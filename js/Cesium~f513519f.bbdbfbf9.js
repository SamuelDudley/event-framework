(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~f513519f"],{8283:function(t,i,n){"use strict";var h=n("e26e");function a(t,i){if(!(this instanceof a))return new a(t,i);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),this.clear()}function e(t,i,n){if(!n)return i.indexOf(t);for(var h=0;h<i.length;h++)if(n(t,i[h]))return h;return-1}function r(t,i){s(t,0,t.children.length,i,t)}function s(t,i,n,h,a){a||(a=M(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var e,r=i;r<n;r++)e=t.children[r],o(a,t.leaf?h(e):e);return a}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function x(t,i){var n=Math.max(t.minX,i.minX),h=Math.max(t.minY,i.minY),a=Math.min(t.maxX,i.maxX),e=Math.min(t.maxY,i.maxY);return Math.max(0,a-n)*Math.max(0,e-h)}function d(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function M(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function X(t,i,n,a,e){var r,s=[i,n];while(s.length)n=s.pop(),i=s.pop(),n-i<=a||(r=i+Math.ceil((n-i)/a/2)*a,Object(h["a"])(t,r,i,n,e),s.push(i,r,r,n))}a.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],h=this.toBBox;if(!p(t,i))return n;var a,e,r,s,o=[];while(i){for(a=0,e=i.children.length;a<e;a++)r=i.children[a],s=i.leaf?h(r):r,p(t,s)&&(i.leaf?n.push(r):d(t,s)?this._all(r,n):o.push(r));i=o.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!p(t,i))return!1;var h,a,e,r,s=[];while(i){for(h=0,a=i.children.length;h<a;h++)if(e=i.children[h],r=i.leaf?n(e):e,p(t,r)){if(i.leaf||d(t,r))return!0;s.push(e)}i=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var h=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var a=this.data;this.data=h,h=a}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=M([]),this},remove:function(t,i){if(!t)return this;var n,h,a,r,s=this.data,o=this.toBBox(t),l=[],c=[];while(s||l.length){if(s||(s=l.pop(),h=l[l.length-1],n=c.pop(),r=!0),s.leaf&&(a=e(t,s.children,i),-1!==a))return s.children.splice(a,1),l.push(s),this._condense(l),this;r||s.leaf||!d(s,o)?h?(n++,s=h.children[n],r=!1):s=null:(l.push(s),c.push(n),n=0,h=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){var n=[];while(t)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,h){var a,e=n-i+1,s=this._maxEntries;if(e<=s)return a=M(t.slice(i,n+1)),r(a,this.toBBox),a;h||(h=Math.ceil(Math.log(e)/Math.log(s)),s=Math.ceil(e/Math.pow(s,h-1))),a=M([]),a.leaf=!1,a.height=h;var o,l,c,m,u=Math.ceil(e/s),f=u*Math.ceil(Math.sqrt(s));for(X(t,i,n,f,this.compareMinX),o=i;o<=n;o+=f)for(c=Math.min(o+f-1,n),X(t,o,c,u,this.compareMinY),l=o;l<=c;l+=u)m=Math.min(l+u-1,c),a.children.push(this._build(t,l,m,h-1));return r(a,this.toBBox),a},_chooseSubtree:function(t,i,n,h){var a,e,r,s,o,l,c,u;while(1){if(h.push(i),i.leaf||h.length-1===n)break;for(c=u=1/0,a=0,e=i.children.length;a<e;a++)r=i.children[a],o=m(r),l=f(t,r)-o,l<u?(u=l,c=o<c?o:c,s=r):l===u&&o<c&&(c=o,s=r);i=s||i.children[0]}return i},_insert:function(t,i,n){var h=this.toBBox,a=n?t:h(t),e=[],r=this._chooseSubtree(a,this.data,i,e);r.children.push(t),o(r,a);while(i>=0){if(!(e[i].children.length>this._maxEntries))break;this._split(e,i),i--}this._adjustParentBBoxes(a,e,i)},_split:function(t,i){var n=t[i],h=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,h);var e=this._chooseSplitIndex(n,a,h),s=M(n.children.splice(e,n.children.length-e));s.height=n.height,s.leaf=n.leaf,r(n,this.toBBox),r(s,this.toBBox),i?t[i-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,i){this.data=M([t,i]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var h,a,e,r,o,l,c,u;for(l=c=1/0,h=i;h<=n-i;h++)a=s(t,0,h,this.toBBox),e=s(t,h,n,this.toBBox),r=x(a,e),o=m(a)+m(e),r<l?(l=r,u=h,c=o<c?o:c):r===l&&o<c&&(c=o,u=h);return u},_chooseSplitAxis:function(t,i,n){var h=t.leaf?this.compareMinX:l,a=t.leaf?this.compareMinY:c,e=this._allDistMargin(t,i,n,h),r=this._allDistMargin(t,i,n,a);e<r&&t.children.sort(h)},_allDistMargin:function(t,i,n,h){t.children.sort(h);var a,e,r=this.toBBox,l=s(t,0,i,r),c=s(t,n-i,n,r),m=u(l)+u(c);for(a=i;a<n-i;a++)e=t.children[a],o(l,t.leaf?r(e):e),m+=u(l);for(a=n-i-1;a>=i;a--)e=t.children[a],o(c,t.leaf?r(e):e),m+=u(c);return m},_adjustParentBBoxes:function(t,i,n){for(var h=n;h>=0;h--)o(i[h],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():r(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},i["a"]=a}}]);