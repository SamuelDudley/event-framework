(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~6f63c4ba"],{"0967":function(e,t,r){"use strict";var i=r("670c"),n=r("bd8d"),a=r("2f63"),o=r("9f1d"),s=r("7d62"),c=r("e42d"),u=r("f845"),l=r("ac3b"),f=r("6ef5"),h=r("6c84"),m=r("a913"),d=r("3022"),_=r("03f1"),p=r("23b6");function g(){this._uniformMap=void 0,this._command=void 0,this._colorTexture=void 0,this._depthTexture=void 0,this._ready=!1,this._name="czm_autoexposure",this._logDepthChanged=void 0,this._useLogDepth=void 0,this._framebuffers=void 0,this._previousLuminance=void 0,this._commands=void 0,this._clearCommand=void 0,this._minMaxLuminance=new i["a"],this.enabled=!0,this._enabled=!0,this.minimumLuminance=.1,this.maximumLuminance=10}function v(e){var t=e._framebuffers;if(Object(a["a"])(t)){for(var r=t.length,i=0;i<r;++i)t[i].destroy();e._framebuffers=void 0,e._previousLuminance.destroy(),e._previousLuminance=void 0}}function x(e,t){v(e);for(var r=e._width,i=e._height,n=c["a"].RGBA,a=t.halfFloatingPointTexture?f["a"].HALF_FLOAT:f["a"].FLOAT,o=new h["a"]({wrapS:p["a"].CLAMP_TO_EDGE,wrapT:p["a"].CLAMP_TO_EDGE,minificationFilter:_["a"].NEAREST,magnificationFilter:d["a"].NEAREST}),s=Math.ceil(Math.log(Math.max(r,i))/Math.log(3)),u=new Array(s),g=0;g<s;++g)r=Math.max(Math.ceil(r/3),1),i=Math.max(Math.ceil(i/3),1),u[g]=new l["a"]({context:t,colorTextures:[new m["a"]({context:t,width:r,height:i,pixelFormat:n,pixelDatatype:a,sampler:o})]});var x=u[s-1].getColorTexture(0);e._previousLuminance=new l["a"]({context:t,colorTextures:[new m["a"]({context:t,width:x.width,height:x.height,pixelFormat:n,pixelDatatype:a,sampler:o})]}),e._framebuffers=u}function y(e){var t=e._commands;if(Object(a["a"])(t)){for(var r=t.length,i=0;i<r;++i)t[i].shaderProgram.destroy();e._commands=void 0}}function b(e,t){var r;if(0===t)r={colorTexture:function(){return e._colorTexture},colorTextureDimensions:function(){return e._colorTexture.dimensions}};else{var i=e._framebuffers[t-1].getColorTexture(0);r={colorTexture:function(){return i},colorTextureDimensions:function(){return i.dimensions}}}return r.minMaxLuminance=function(){return e._minMaxLuminance},r.previousLuminance=function(){return e._previousLuminance.getColorTexture(0)},r}function w(e,t){var r="uniform sampler2D colorTexture; \nvarying vec2 v_textureCoordinates; \nfloat sampleTexture(vec2 offset) { \n";return r+=0===e?"    vec4 color = texture2D(colorTexture, v_textureCoordinates + offset); \n    return czm_luminance(color.rgb); \n":"    return texture2D(colorTexture, v_textureCoordinates + offset).r; \n",r+="}\n\n",r+="uniform vec2 colorTextureDimensions; \nuniform vec2 minMaxLuminance; \nuniform sampler2D previousLuminance; \nvoid main() { \n    float color = 0.0; \n    float xStep = 1.0 / colorTextureDimensions.x; \n    float yStep = 1.0 / colorTextureDimensions.y; \n    int count = 0; \n    for (int i = 0; i < 3; ++i) { \n        for (int j = 0; j < 3; ++j) { \n            vec2 offset; \n            offset.x = -xStep + float(i) * xStep; \n            offset.y = -yStep + float(j) * yStep; \n            if (offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0) { \n                continue; \n            } \n            color += sampleTexture(offset); \n            ++count; \n        } \n    } \n    if (count > 0) { \n        color /= float(count); \n    } \n",e===t-1&&(r+="    float previous = texture2D(previousLuminance, vec2(0.5)).r; \n    color = clamp(color, minMaxLuminance.x, minMaxLuminance.y); \n    color = previous + (color - previous) / (60.0 * 1.5); \n    color = clamp(color, minMaxLuminance.x, minMaxLuminance.y); \n"),r+="    gl_FragColor = vec4(color); \n} \n",r}function T(e,t){y(e);for(var r=e._framebuffers,i=r.length,n=new Array(i),a=0;a<i;++a)n[a]=t.createViewportQuadCommand(w(a,i),{framebuffer:r[a],uniformMap:b(e,a)});e._commands=n}Object(o["a"])(g.prototype,{ready:{get:function(){return this._ready}},name:{get:function(){return this._name}},outputTexture:{get:function(){var e=this._framebuffers;if(Object(a["a"])(e))return e[e.length-1].getColorTexture(0)}}}),g.prototype.clear=function(e){var t=this._framebuffers;if(Object(a["a"])(t)){var r=this._clearCommand;Object(a["a"])(r)||(r=this._clearCommand=new u["a"]({color:new n["a"](0,0,0,0),framebuffer:void 0}));for(var i=t.length,o=0;o<i;++o)r.framebuffer=t[o],r.execute(e)}},g.prototype.update=function(e){var t=e.drawingBufferWidth,r=e.drawingBufferHeight;t===this._width&&r===this._height||(this._width=t,this._height=r,x(this,e),T(this,e),this._ready||(this._ready=!0)),this._minMaxLuminance.x=this.minimumLuminance,this._minMaxLuminance.y=this.maximumLuminance;var i=this._framebuffers,n=i[i.length-1];i[i.length-1]=this._previousLuminance,this._commands[this._commands.length-1].framebuffer=this._previousLuminance,this._previousLuminance=n},g.prototype.execute=function(e,t){this._colorTexture=t;var r=this._commands;if(Object(a["a"])(r))for(var i=r.length,n=0;n<i;++n)r[n].execute(e)},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){return v(this),y(this),Object(s["a"])(this)},t["a"]=g},"1da3":function(e,t,r){"use strict";var i=r("0e25"),n={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4"};t["a"]=Object(i["a"])(n)},5856:function(e,t,r){"use strict";var i=r("670c"),n=r("be18"),a=r("bef8"),o=r("8dfe"),s=r("535a"),c=r("2f63"),u=r("9f1d"),l=r("21d7"),f=r("3d7f"),h=r("5d5c"),m=r("93da"),d=r("eace"),_=r("d4ed"),p=r("283e"),g=r("a89b"),v=r("1184"),x=r("d3a0"),y=r("a58e"),b=r("71af"),w=r("3e5e"),T=r("64ac");function S(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);var t=_["a"].createIfNeeded(e.url);t.appendForwardSlash(),Object(c["a"])(e.token)&&t.setQueryParameters({token:e.token}),this._resource=t,this._tileDiscardPolicy=e.tileDiscardPolicy,this._tileWidth=Object(s["a"])(e.tileWidth,256),this._tileHeight=Object(s["a"])(e.tileHeight,256),this._maximumLevel=e.maximumLevel,this._tilingScheme=Object(s["a"])(e.tilingScheme,new h["a"]({ellipsoid:e.ellipsoid})),this._useTiles=Object(s["a"])(e.usePreCachedTilesIfAvailable,!0),this._rectangle=Object(s["a"])(e.rectangle,this._tilingScheme.rectangle),this._layers=e.layers;var r=e.credit;"string"===typeof r&&(r=new o["a"](r)),this._credit=r,this.enablePickFeatures=Object(s["a"])(e.enablePickFeatures,!0),this._errorEvent=new l["a"],this._ready=!1,this._readyPromise=y["a"].defer();var a,u=this;function f(t){var r=t.tileInfo;if(Object(c["a"])(r)){if(u._tileWidth=r.rows,u._tileHeight=r.cols,102100===r.spatialReference.wkid||102113===r.spatialReference.wkid)u._tilingScheme=new x["a"]({ellipsoid:e.ellipsoid});else{if(4326!==t.tileInfo.spatialReference.wkid){var s="Tile spatial reference WKID "+t.tileInfo.spatialReference.wkid+" is not supported.";return void(a=g["a"].handleError(a,u,u._errorEvent,s,void 0,void 0,void 0,w))}u._tilingScheme=new h["a"]({ellipsoid:e.ellipsoid})}if(u._maximumLevel=t.tileInfo.lods.length-1,Object(c["a"])(t.fullExtent)){if(Object(c["a"])(t.fullExtent.spatialReference)&&Object(c["a"])(t.fullExtent.spatialReference.wkid))if(102100===t.fullExtent.spatialReference.wkid||102113===t.fullExtent.spatialReference.wkid){var l=new v["a"],f=t.fullExtent,m=l.unproject(new n["a"](Math.max(f.xmin,-u._tilingScheme.ellipsoid.maximumRadius*Math.PI),Math.max(f.ymin,-u._tilingScheme.ellipsoid.maximumRadius*Math.PI),0)),_=l.unproject(new n["a"](Math.min(f.xmax,u._tilingScheme.ellipsoid.maximumRadius*Math.PI),Math.min(f.ymax,u._tilingScheme.ellipsoid.maximumRadius*Math.PI),0));u._rectangle=new d["a"](m.longitude,m.latitude,_.longitude,_.latitude)}else{if(4326!==t.fullExtent.spatialReference.wkid){var p="fullExtent.spatialReference WKID "+t.fullExtent.spatialReference.wkid+" is not supported.";return void(a=g["a"].handleError(a,u,u._errorEvent,p,void 0,void 0,void 0,w))}u._rectangle=d["a"].fromDegrees(t.fullExtent.xmin,t.fullExtent.ymin,t.fullExtent.xmax,t.fullExtent.ymax)}}else u._rectangle=u._tilingScheme.rectangle;Object(c["a"])(u._tileDiscardPolicy)||(u._tileDiscardPolicy=new b["a"]({missingImageUrl:j(u,0,0,u._maximumLevel).url,pixelsToCheck:[new i["a"](0,0),new i["a"](200,20),new i["a"](20,200),new i["a"](80,110),new i["a"](160,130)],disableCheckIfAllPixelsAreTransparent:!0})),u._useTiles=!0}else u._useTiles=!1;Object(c["a"])(t.copyrightText)&&t.copyrightText.length>0&&(u._credit=new o["a"](t.copyrightText)),u._ready=!0,u._readyPromise.resolve(!0),g["a"].handleSuccess(a)}function m(e){var t="An error occurred while accessing "+u._resource.url+".";a=g["a"].handleError(a,u,u._errorEvent,t,void 0,void 0,void 0,w),u._readyPromise.reject(new p["a"](t))}function w(){var e=u._resource.getDerivedResource({queryParameters:{f:"json"}}),t=e.fetchJsonp();Object(y["a"])(t,f,m)}this._useTiles?w():(this._ready=!0,this._readyPromise.resolve(!0))}function j(e,t,r,i,n){var a;if(e._useTiles)a=e._resource.getDerivedResource({url:"tile/"+i+"/"+r+"/"+t,request:n});else{var o=e._tilingScheme.tileXYToNativeRectangle(t,r,i),s=o.west+","+o.south+","+o.east+","+o.north,c={bbox:s,size:e._tileWidth+","+e._tileHeight,format:"png",transparent:!0,f:"image"};e._tilingScheme.projection instanceof f["a"]?(c.bboxSR=4326,c.imageSR=4326):(c.bboxSR=3857,c.imageSR=3857),e.layers&&(c.layers="show:"+e.layers),a=e._resource.getDerivedResource({url:"export",request:n,queryParameters:c})}return a}Object(u["a"])(S.prototype,{url:{get:function(){return this._resource._url}},token:{get:function(){return this._resource.queryParameters.token}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},usingPrecachedTiles:{get:function(){return this._useTiles}},hasAlphaChannel:{get:function(){return!0}},layers:{get:function(){return this._layers}}}),S.prototype.getTileCredits=function(e,t,r){},S.prototype.requestImage=function(e,t,r,i){return T["a"].loadImage(this,j(this,e,t,r,i))},S.prototype.pickFeatures=function(e,t,r,i,o){if(this.enablePickFeatures){var s,u,l,h=this._tilingScheme.tileXYToNativeRectangle(e,t,r);if(this._tilingScheme.projection instanceof f["a"])s=m["a"].toDegrees(i),u=m["a"].toDegrees(o),l="4326";else{var d=this._tilingScheme.projection.project(new a["a"](i,o,0));s=d.x,u=d.y,l="3857"}var _="visible";Object(c["a"])(this._layers)&&(_+=":"+this._layers);var p={f:"json",tolerance:2,geometryType:"esriGeometryPoint",geometry:s+","+u,mapExtent:h.west+","+h.south+","+h.east+","+h.north,imageDisplay:this._tileWidth+","+this._tileHeight+",96",sr:l,layers:_},g=this._resource.getDerivedResource({url:"identify",queryParameters:p});return g.fetchJson().then((function(e){var t=[],r=e.results;if(!Object(c["a"])(r))return t;for(var i=0;i<r.length;++i){var o=r[i],s=new w["a"];if(s.data=o,s.name=o.value,s.properties=o.attributes,s.configureDescriptionFromProperties(o.attributes),"esriGeometryPoint"===o.geometryType&&o.geometry){var u=o.geometry.spatialReference&&o.geometry.spatialReference.wkid?o.geometry.spatialReference.wkid:4326;if(4326===u||4283===u)s.position=a["a"].fromDegrees(o.geometry.x,o.geometry.y,o.geometry.z);else if(102100===u||900913===u||3857===u){var l=new v["a"];s.position=l.unproject(new n["a"](o.geometry.x,o.geometry.y,o.geometry.z))}}t.push(s)}return t}))}},t["a"]=S},"5cb0":function(e,t,r){"use strict";var i=r("dc1c"),n=r("2bb9"),a=r("535a"),o=r("2f63"),s=r("9f1d"),c=r("b7c8"),u=r("29ab");function l(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),this.material=e.material,this.translucent=Object(a["a"])(e.translucent,!0),this._vertexShaderSource=e.vertexShaderSource,this._fragmentShaderSource=e.fragmentShaderSource,this._renderState=e.renderState,this._closed=Object(a["a"])(e.closed,!1)}Object(s["a"])(l.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}}}),l.prototype.getFragmentShaderSource=function(){var e=[];return this.flat&&e.push("#define FLAT"),this.faceForward&&e.push("#define FACE_FORWARD"),Object(o["a"])(this.material)&&e.push(this.material.shaderSource),e.push(this.fragmentShaderSource),e.join("\n")},l.prototype.isTranslucent=function(){return Object(o["a"])(this.material)&&this.material.isTranslucent()||!Object(o["a"])(this.material)&&this.translucent},l.prototype.getRenderState=function(){var e=this.isTranslucent(),t=Object(i["a"])(this.renderState,!1);return e?(t.depthMask=!1,t.blending=c["a"].ALPHA_BLEND):t.depthMask=!0,t},l.getDefaultRenderState=function(e,t,r){var i={depthTest:{enabled:!0}};return e&&(i.depthMask=!1,i.blending=c["a"].ALPHA_BLEND),t&&(i.cull={enabled:!0,face:u["a"].BACK}),Object(o["a"])(r)&&(i=Object(n["a"])(r,i,!0)),i},t["a"]=l}}]);