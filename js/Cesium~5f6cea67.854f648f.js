(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~5f6cea67"],{"05b6":function(t,i,e){"use strict";var o=e("535a"),a=e("2f63"),n=e("9f1d"),s=e("21d7"),r=e("dde7"),l=e("0a43");function h(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._depthFailMaterial=void 0,this._depthFailMaterialSubscription=void 0,this._arcType=void 0,this._arcTypeSubscription=void 0,this._clampToGround=void 0,this._clampToGroundSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object(n["a"])(h.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l["a"])("show"),positions:Object(l["a"])("positions"),width:Object(l["a"])("width"),granularity:Object(l["a"])("granularity"),material:Object(r["a"])("material"),depthFailMaterial:Object(r["a"])("depthFailMaterial"),arcType:Object(l["a"])("arcType"),clampToGround:Object(l["a"])("clampToGround"),shadows:Object(l["a"])("shadows"),distanceDisplayCondition:Object(l["a"])("distanceDisplayCondition"),classificationType:Object(l["a"])("classificationType"),zIndex:Object(l["a"])("zIndex")}),h.prototype.clone=function(t){return Object(a["a"])(t)?(t.show=this.show,t.positions=this.positions,t.width=this.width,t.granularity=this.granularity,t.material=this.material,t.depthFailMaterial=this.depthFailMaterial,t.arcType=this.arcType,t.clampToGround=this.clampToGround,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new h(this)},h.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.positions=Object(o["a"])(this.positions,t.positions),this.width=Object(o["a"])(this.width,t.width),this.granularity=Object(o["a"])(this.granularity,t.granularity),this.material=Object(o["a"])(this.material,t.material),this.depthFailMaterial=Object(o["a"])(this.depthFailMaterial,t.depthFailMaterial),this.arcType=Object(o["a"])(this.arcType,t.arcType),this.clampToGround=Object(o["a"])(this.clampToGround,t.clampToGround),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=Object(o["a"])(this.classificationType,t.classificationType),this.zIndex=Object(o["a"])(this.zIndex,t.zIndex)},i["a"]=h},"203c":function(t,i,e){"use strict";var o=e("933b"),a=e("cef5"),n=e("535a"),s=e("2f63"),r=e("7d62"),l=e("5a6c"),h=e("63ae"),c=e("2e78"),d=e("c86b"),p=e("2d19"),u=e("b83c"),y=e("cab1"),_=e("9201"),g=e("bd8d"),b=e("9541"),f=e("9f1d"),O=e("aee6"),v=e("77bc"),m=e("21d7"),j=e("d940"),C=e("69e5"),w=e("452d"),D=e("b639"),P=e("bb710"),T=e("31af"),V=e("ac9c"),E=e("509b"),M=e("a0f5"),S=e("4082"),I=e("984f"),x=e("40b2"),U=e("ea07"),B=new I["a"](0),H={},R=new g["a"],A=new u["a"](g["a"].WHITE),N=new I["a"](!0),G=new I["a"](d["a"].DISABLED),F=new I["a"](new O["a"]),W=new I["a"](l["a"].BOTH);function z(){this.vertexFormat=void 0,this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function L(){this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function X(t,i){this._entity=t,this._scene=i,this._entitySubscription=t.definitionChanged.addEventListener(X.prototype._onEntityPropertyChanged,this),this._fillEnabled=!1,this._dynamic=!1,this._geometryChanged=new m["a"],this._showProperty=void 0,this._materialProperty=void 0,this._shadowsProperty=void 0,this._distanceDisplayConditionProperty=void 0,this._classificationTypeProperty=void 0,this._depthFailMaterialProperty=void 0,this._geometryOptions=new z,this._groundGeometryOptions=new L,this._id="polyline-"+t.id,this._clampToGround=!1,this._supportsPolylinesOnTerrain=E["a"].supportsPolylinesOnTerrain(i),this._zIndex=0,this._onEntityPropertyChanged(t,"polyline",t.polyline,void 0)}Object(f["a"])(X.prototype,{id:{get:function(){return this._id}},entity:{get:function(){return this._entity}},fillEnabled:{get:function(){return this._fillEnabled}},hasConstantFill:{get:function(){return!this._fillEnabled||!Object(s["a"])(this._entity.availability)&&U["a"].isConstant(this._showProperty)}},fillMaterialProperty:{get:function(){return this._materialProperty}},depthFailMaterialProperty:{get:function(){return this._depthFailMaterialProperty}},outlineEnabled:{value:!1},hasConstantOutline:{value:!0},outlineColorProperty:{value:void 0},shadowsProperty:{get:function(){return this._shadowsProperty}},distanceDisplayConditionProperty:{get:function(){return this._distanceDisplayConditionProperty}},classificationTypeProperty:{get:function(){return this._classificationTypeProperty}},isDynamic:{get:function(){return this._dynamic}},isClosed:{value:!1},geometryChanged:{get:function(){return this._geometryChanged}},arcType:{get:function(){return this._arcType}},clampToGround:{get:function(){return this._clampToGround&&this._supportsPolylinesOnTerrain}},zIndex:{get:function(){return this._zIndex}}}),X.prototype.isOutlineVisible=function(t){return!1},X.prototype.isFilled=function(t){var i=this._entity,e=this._fillEnabled&&i.isAvailable(t)&&this._showProperty.getValue(t);return Object(n["a"])(e,!1)},X.prototype.createFillGeometryInstance=function(t){var i,e=this._entity,o=e.isAvailable(t),a=new V["a"](o&&e.isShowing&&this._showProperty.getValue(t)),n=this._distanceDisplayConditionProperty.getValue(t),r=v["a"].fromDistanceDisplayCondition(n),l={show:a,distanceDisplayCondition:r};return this._materialProperty instanceof u["a"]&&(Object(s["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||o)&&(i=this._materialProperty.color.getValue(t,R)),Object(s["a"])(i)||(i=g["a"].WHITE),l.color=b["a"].fromColor(i)),this.clampToGround?new j["a"]({id:e,geometry:new C["a"](this._groundGeometryOptions),attributes:l}):(Object(s["a"])(this._depthFailMaterialProperty)&&this._depthFailMaterialProperty instanceof u["a"]&&(Object(s["a"])(this._depthFailMaterialProperty.color)&&(this._depthFailMaterialProperty.color.isConstant||o)&&(i=this._depthFailMaterialProperty.color.getValue(t,R)),Object(s["a"])(i)||(i=g["a"].WHITE),l.depthFailColor=b["a"].fromColor(i)),new j["a"]({id:e,geometry:new P["a"](this._geometryOptions),attributes:l}))},X.prototype.createOutlineGeometryInstance=function(t){},X.prototype.isDestroyed=function(){return!1},X.prototype.destroy=function(){this._entitySubscription(),Object(r["a"])(this)},X.prototype._onEntityPropertyChanged=function(t,i,e,o){if("availability"===i||"polyline"===i){var a=this._entity.polyline;if(Object(s["a"])(a)){var r=a.positions,l=a.show;if(Object(s["a"])(l)&&l.isConstant&&!l.getValue(w["a"].MINIMUM_VALUE)||!Object(s["a"])(r))this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this));else{var d=a.zIndex,p=Object(n["a"])(a.material,A),y=p instanceof u["a"];this._materialProperty=p,this._depthFailMaterialProperty=a.depthFailMaterial,this._showProperty=Object(n["a"])(l,N),this._shadowsProperty=Object(n["a"])(a.shadows,G),this._distanceDisplayConditionProperty=Object(n["a"])(a.distanceDisplayCondition,F),this._classificationTypeProperty=Object(n["a"])(a.classificationType,W),this._fillEnabled=!0,this._zIndex=Object(n["a"])(d,B);var _=a.width,g=a.arcType,b=a.clampToGround,f=a.granularity;if(r.isConstant&&U["a"].isConstant(_)&&U["a"].isConstant(g)&&U["a"].isConstant(f)&&U["a"].isConstant(b)&&U["a"].isConstant(d)){var O,v=this._geometryOptions,m=r.getValue(w["a"].MINIMUM_VALUE,v.positions);if(!Object(s["a"])(m)||m.length<2)return void(this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this)));O=y&&(!Object(s["a"])(this._depthFailMaterialProperty)||this._depthFailMaterialProperty instanceof u["a"])?h["a"].VERTEX_FORMAT:c["a"].VERTEX_FORMAT,v.vertexFormat=O,v.positions=m,v.width=Object(s["a"])(_)?_.getValue(w["a"].MINIMUM_VALUE):void 0,v.arcType=Object(s["a"])(g)?g.getValue(w["a"].MINIMUM_VALUE):void 0,v.granularity=Object(s["a"])(f)?f.getValue(w["a"].MINIMUM_VALUE):void 0;var j=this._groundGeometryOptions;j.positions=m,j.width=v.width,j.arcType=v.arcType,j.granularity=v.granularity,this._clampToGround=!!Object(s["a"])(b)&&b.getValue(w["a"].MINIMUM_VALUE),!this._clampToGround&&Object(s["a"])(d)&&Object(D["a"])("Entity polylines must have clampToGround: true when using zIndex.  zIndex will be ignored."),this._dynamic=!1,this._geometryChanged.raiseEvent(this)}else this._dynamic||(this._dynamic=!0,this._geometryChanged.raiseEvent(this))}}else this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this))}},X.prototype.createDynamicUpdater=function(t,i){return new q(t,i,this)};var J={positions:void 0,granularity:void 0,height:void 0,ellipsoid:void 0};function q(t,i,e){this._line=void 0,this._primitives=t,this._groundPrimitives=i,this._groundPolylinePrimitive=void 0,this._material=void 0,this._geometryUpdater=e,this._positions=[]}function Y(t){if(Object(s["a"])(t._line))return t._line;var i=t._geometryUpdater._scene.id,e=H[i],o=t._primitives;!Object(s["a"])(e)||e.isDestroyed()?(e=new S["a"],H[i]=e,o.add(e)):o.contains(e)||o.add(e);var a=e.add();return a.id=t._geometryUpdater._entity,t._line=a,a}q.prototype.update=function(t){var i=this._geometryUpdater,e=i._entity,o=e.polyline,a=o.positions,n=U["a"].getValueOrUndefined(a,t,this._positions);i._clampToGround=U["a"].getValueOrDefault(o._clampToGround,t,!1),i._groundGeometryOptions.positions=n,i._groundGeometryOptions.width=U["a"].getValueOrDefault(o._width,t,1),i._groundGeometryOptions.arcType=U["a"].getValueOrDefault(o._arcType,t,_["a"].GEODESIC),i._groundGeometryOptions.granularity=U["a"].getValueOrDefault(o._granularity,t,9999);var r=this._groundPrimitives;if(Object(s["a"])(this._groundPolylinePrimitive)&&(r.remove(this._groundPolylinePrimitive),this._groundPolylinePrimitive=void 0),i.clampToGround){if(!e.isShowing||!e.isAvailable(t)||!U["a"].getValueOrDefault(o._show,t,!0))return;if(!Object(s["a"])(n)||n.length<2)return;var l,d=i.fillMaterialProperty;if(d instanceof u["a"])l=new h["a"];else{var p=x["a"].getValue(t,d,this._material);l=new c["a"]({material:p,translucent:p.isTranslucent()}),this._material=p}return this._groundPolylinePrimitive=r.add(new M["a"]({geometryInstances:i.createFillGeometryInstance(t),appearance:l,classificationType:i.classificationTypeProperty.getValue(t),asynchronous:!1}),U["a"].getValueOrUndefined(i.zIndex,t)),void(Object(s["a"])(this._line)&&(this._line.show=!1))}var y=Y(this);if(e.isShowing&&e.isAvailable(t)&&U["a"].getValueOrDefault(o._show,t,!0))if(!Object(s["a"])(n)||n.length<2)y.show=!1;else{var g=_["a"].GEODESIC;g=U["a"].getValueOrDefault(o._arcType,t,g);var b=i._scene.globe;g!==_["a"].NONE&&Object(s["a"])(b)&&(J.ellipsoid=b.ellipsoid,J.positions=n,J.granularity=U["a"].getValueOrUndefined(o._granularity,t),J.height=T["a"].extractHeights(n,b.ellipsoid),n=g===_["a"].GEODESIC?T["a"].generateCartesianArc(J):T["a"].generateCartesianRhumbArc(J)),y.show=!0,y.positions=n.slice(),y.material=x["a"].getValue(t,i.fillMaterialProperty,y.material),y.width=U["a"].getValueOrDefault(o._width,t,1),y.distanceDisplayCondition=U["a"].getValueOrUndefined(o._distanceDisplayCondition,t,y.distanceDisplayCondition)}else y.show=!1},q.prototype.getBoundingSphere=function(t){if(this._geometryUpdater.clampToGround){var i=this._groundPolylinePrimitive;if(Object(s["a"])(i)&&i.show&&i.ready){var e=i.getGeometryInstanceAttributes(this._geometryUpdater._entity);if(Object(s["a"])(e)&&Object(s["a"])(e.boundingSphere))return a["a"].clone(e.boundingSphere,t),p["a"].DONE}return Object(s["a"])(i)&&!i.ready?p["a"].PENDING:p["a"].DONE}var o=Y(this);return o.show&&o.positions.length>0?(a["a"].fromPoints(o.positions,t),p["a"].DONE):p["a"].FAILED},q.prototype.isDestroyed=function(){return!1},q.prototype.destroy=function(){var t=this._geometryUpdater,i=t._scene.id,e=H[i];Object(s["a"])(e)&&(e.remove(this._line),0===e.length&&(this._primitives.removeAndDestroy(e),delete H[i])),Object(s["a"])(this._groundPolylinePrimitive)&&this._groundPrimitives.remove(this._groundPolylinePrimitive),Object(r["a"])(this)};var K=X,k=e("02a7"),Z=e("d5c7"),Q=e("f293"),$=[];function tt(t,i){for(var e=t._batches,o=e.length,a=0;a<o;a++)e[a].remove(i)}function it(t,i,e){if(e.isDynamic)t._dynamicBatch.add(i,e);else if(e.clampToGround&&e.fillEnabled){var o=e.classificationTypeProperty.getValue(i);t._groundBatches[o].add(i,e)}else{var a;e.fillEnabled&&(a=e.shadowsProperty.getValue(i));var n,r=0;Object(s["a"])(e.depthFailMaterialProperty)&&(r=e.depthFailMaterialProperty instanceof u["a"]?1:2),Object(s["a"])(a)&&(n=a+r*d["a"].NUMBER_OF_SHADOW_MODES),e.fillEnabled&&(e.fillMaterialProperty instanceof u["a"]?t._colorBatches[n].add(i,e):t._materialBatches[n].add(i,e))}}function et(t,i,e,a){var s;a=Object(n["a"])(a,t.groundPrimitives),e=Object(n["a"])(e,t.primitives),this._scene=t,this._primitives=e,this._entityCollection=void 0,this._addedObjects=new o["a"],this._removedObjects=new o["a"],this._changedObjects=new o["a"];var r=d["a"].NUMBER_OF_SHADOW_MODES;for(this._colorBatches=new Array(3*r),this._materialBatches=new Array(3*r),s=0;s<r;++s)this._colorBatches[s]=new k["a"](e,h["a"],void 0,!1,s),this._materialBatches[s]=new Z["a"](e,c["a"],void 0,!1,s),this._colorBatches[s+r]=new k["a"](e,h["a"],h["a"],!1,s),this._materialBatches[s+r]=new Z["a"](e,c["a"],h["a"],!1,s),this._colorBatches[s+2*r]=new k["a"](e,h["a"],c["a"],!1,s),this._materialBatches[s+2*r]=new Z["a"](e,c["a"],c["a"],!1,s);this._dynamicBatch=new y["a"](e,a);var p=l["a"].NUMBER_OF_CLASSIFICATION_TYPES;for(this._groundBatches=new Array(p),s=0;s<p;++s)this._groundBatches[s]=new Q["a"](a,s);this._batches=this._colorBatches.concat(this._materialBatches,this._dynamicBatch,this._groundBatches),this._subscriptions=new o["a"],this._updaters=new o["a"],this._entityCollection=i,i.collectionChanged.addEventListener(et.prototype._onCollectionChanged,this),this._onCollectionChanged(i,i.values,$)}et.prototype.update=function(t){var i,e,o,a,n=this._addedObjects,s=n.values,r=this._removedObjects,l=r.values,h=this._changedObjects,c=h.values;for(i=c.length-1;i>-1;i--)e=c[i],o=e.id,a=this._updaters.get(o),a.entity===e?(tt(this,a),it(this,t,a)):(l.push(e),s.push(e));for(i=l.length-1;i>-1;i--)e=l[i],o=e.id,a=this._updaters.get(o),tt(this,a),a.destroy(),this._updaters.remove(o),this._subscriptions.get(o)(),this._subscriptions.remove(o);for(i=s.length-1;i>-1;i--)e=s[i],o=e.id,a=new K(e,this._scene),this._updaters.set(o,a),it(this,t,a),this._subscriptions.set(o,a.geometryChanged.addEventListener(et._onGeometryChanged,this));n.removeAll(),r.removeAll(),h.removeAll();var d=!0,p=this._batches,u=p.length;for(i=0;i<u;i++)d=p[i].update(t)&&d;return d};var ot=[],at=new a["a"];et.prototype.getBoundingSphere=function(t,i){for(var e=ot,o=at,n=0,s=p["a"].DONE,r=this._batches,l=r.length,h=this._updaters.get(t.id),c=0;c<l;c++){if(s=r[c].getBoundingSphere(h,o),s===p["a"].PENDING)return p["a"].PENDING;s===p["a"].DONE&&(e[n]=a["a"].clone(o,e[n]),n++)}return 0===n?p["a"].FAILED:(e.length=n,a["a"].fromBoundingSpheres(e,i),p["a"].DONE)},et.prototype.isDestroyed=function(){return!1},et.prototype.destroy=function(){var t;this._entityCollection.collectionChanged.removeEventListener(et.prototype._onCollectionChanged,this),this._addedObjects.removeAll(),this._removedObjects.removeAll();var i=this._batches,e=i.length;for(t=0;t<e;t++)i[t].removeAllPrimitives();var o=this._subscriptions.values;for(e=o.length,t=0;t<e;t++)o[t]();return this._subscriptions.removeAll(),Object(r["a"])(this)},et._onGeometryChanged=function(t){var i=this._removedObjects,e=this._changedObjects,o=t.entity,a=o.id;Object(s["a"])(i.get(a))||Object(s["a"])(e.get(a))||e.set(a,o)},et.prototype._onCollectionChanged=function(t,i,e){var o,a,n,s=this._addedObjects,r=this._removedObjects,l=this._changedObjects;for(o=e.length-1;o>-1;o--)n=e[o],a=n.id,s.remove(a)||(r.set(a,n),l.remove(a));for(o=i.length-1;o>-1;o--)n=i[o],a=n.id,r.remove(a)?l.set(a,n):s.set(a,n)};i["a"]=et},"4b0e":function(t,i,e){"use strict";var o=e("bd8d"),a=e("9541"),n=e("2f63"),s=e("77bc"),r=e("d940"),l=e("452d"),h=e("af94"),c=e("e53f"),d=e("ac9c"),p=e("d6db"),u=e("3a8e"),y=e("b83c"),_=e("9171"),g=e("3ba2"),b=e("ea07"),f=new o["a"];function O(t){this.id=t,this.vertexFormat=void 0,this.polylinePositions=void 0,this.shapePositions=void 0,this.cornerType=void 0,this.granularity=void 0}function v(t,i){g["a"].call(this,{entity:t,scene:i,geometryOptions:new O(t),geometryPropertyName:"polylineVolume",observedPropertyNames:["availability","polylineVolume"]}),this._onEntityPropertyChanged(t,"polylineVolume",t.polylineVolume,void 0)}function m(t,i,e){_["a"].call(this,t,i,e)}Object(n["a"])(Object.create)&&(v.prototype=Object.create(g["a"].prototype),v.prototype.constructor=v),v.prototype.createFillGeometryInstance=function(t){var i,e,l,c=this._entity,p=c.isAvailable(t),u=new d["a"](p&&c.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),_=this._distanceDisplayConditionProperty.getValue(t),g=s["a"].fromDistanceDisplayCondition(_);this._materialProperty instanceof y["a"]?(Object(n["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||p)&&(l=this._materialProperty.color.getValue(t,f)),Object(n["a"])(l)||(l=o["a"].WHITE),e=a["a"].fromColor(l),i={show:u,distanceDisplayCondition:g,color:e}):i={show:u,distanceDisplayCondition:g};return new r["a"]({id:c,geometry:new h["a"](this._options),attributes:i})},v.prototype.createOutlineGeometryInstance=function(t){var i=this._entity,e=i.isAvailable(t),n=b["a"].getValueOrDefault(this._outlineColorProperty,t,o["a"].BLACK,f),l=this._distanceDisplayConditionProperty.getValue(t);return new r["a"]({id:i,geometry:new c["a"](this._options),attributes:{show:new d["a"](e&&i.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:a["a"].fromColor(n),distanceDisplayCondition:s["a"].fromDistanceDisplayCondition(l)}})},v.prototype._isHidden=function(t,i){return!Object(n["a"])(i.positions)||!Object(n["a"])(i.shape)||g["a"].prototype._isHidden.call(this,t,i)},v.prototype._isDynamic=function(t,i){return!i.positions.isConstant||!i.shape.isConstant||!b["a"].isConstant(i.granularity)||!b["a"].isConstant(i.outlineWidth)||!b["a"].isConstant(i.cornerType)},v.prototype._setStaticOptions=function(t,i){var e=i.granularity,o=i.cornerType,a=this._options,s=this._materialProperty instanceof y["a"];a.vertexFormat=s?u["a"].VERTEX_FORMAT:p["a"].MaterialSupport.TEXTURED.vertexFormat,a.polylinePositions=i.positions.getValue(l["a"].MINIMUM_VALUE,a.polylinePositions),a.shapePositions=i.shape.getValue(l["a"].MINIMUM_VALUE,a.shape),a.granularity=Object(n["a"])(e)?e.getValue(l["a"].MINIMUM_VALUE):void 0,a.cornerType=Object(n["a"])(o)?o.getValue(l["a"].MINIMUM_VALUE):void 0},v.DynamicGeometryUpdater=m,Object(n["a"])(Object.create)&&(m.prototype=Object.create(_["a"].prototype),m.prototype.constructor=m),m.prototype._isHidden=function(t,i,e){var o=this._options;return!Object(n["a"])(o.polylinePositions)||!Object(n["a"])(o.shapePositions)||_["a"].prototype._isHidden.call(this,t,i,e)},m.prototype._setOptions=function(t,i,e){var o=this._options;o.polylinePositions=b["a"].getValueOrUndefined(i.positions,e,o.polylinePositions),o.shapePositions=b["a"].getValueOrUndefined(i.shape,e),o.granularity=b["a"].getValueOrUndefined(i.granularity,e),o.cornerType=b["a"].getValueOrUndefined(i.cornerType,e)},i["a"]=v},"7fcb":function(t,i,e){"use strict";var o=e("535a"),a=e("2f63"),n=e("9f1d"),s=e("21d7"),r=e("dde7"),l=e("0a43");function h(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._plane=void 0,this._planeSubscription=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object(n["a"])(h.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l["a"])("show"),plane:Object(l["a"])("plane"),dimensions:Object(l["a"])("dimensions"),fill:Object(l["a"])("fill"),material:Object(r["a"])("material"),outline:Object(l["a"])("outline"),outlineColor:Object(l["a"])("outlineColor"),outlineWidth:Object(l["a"])("outlineWidth"),shadows:Object(l["a"])("shadows"),distanceDisplayCondition:Object(l["a"])("distanceDisplayCondition")}),h.prototype.clone=function(t){return Object(a["a"])(t)?(t.show=this.show,t.plane=this.plane,t.dimensions=this.dimensions,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new h(this)},h.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.plane=Object(o["a"])(this.plane,t.plane),this.dimensions=Object(o["a"])(this.dimensions,t.dimensions),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition)},i["a"]=h},"8f3e":function(t,i,e){"use strict";var o=e("535a"),a=e("2f63"),n=e("9f1d"),s=e("21d7"),r=e("dde7"),l=e("0a43");function h(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._shape=void 0,this._shapeSubscription=void 0,this._cornerType=void 0,this._cornerTypeSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubsription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object(n["a"])(h.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l["a"])("show"),positions:Object(l["a"])("positions"),shape:Object(l["a"])("shape"),cornerType:Object(l["a"])("cornerType"),granularity:Object(l["a"])("granularity"),fill:Object(l["a"])("fill"),material:Object(r["a"])("material"),outline:Object(l["a"])("outline"),outlineColor:Object(l["a"])("outlineColor"),outlineWidth:Object(l["a"])("outlineWidth"),shadows:Object(l["a"])("shadows"),distanceDisplayCondition:Object(l["a"])("distanceDisplayCondition")}),h.prototype.clone=function(t){return Object(a["a"])(t)?(t.show=this.show,t.positions=this.positions,t.shape=this.shape,t.cornerType=this.cornerType,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t):new h(this)},h.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.positions=Object(o["a"])(this.positions,t.positions),this.shape=Object(o["a"])(this.shape,t.shape),this.cornerType=Object(o["a"])(this.cornerType,t.cornerType),this.granularity=Object(o["a"])(this.granularity,t.granularity),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition)},i["a"]=h},a796:function(t,i,e){"use strict";var o=e("535a"),a=e("2f63"),n=e("9f1d"),s=e("21d7"),r=e("0a43");function l(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._pixelSize=void 0,this._pixelSizeSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object(n["a"])(l.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(r["a"])("show"),pixelSize:Object(r["a"])("pixelSize"),heightReference:Object(r["a"])("heightReference"),color:Object(r["a"])("color"),outlineColor:Object(r["a"])("outlineColor"),outlineWidth:Object(r["a"])("outlineWidth"),scaleByDistance:Object(r["a"])("scaleByDistance"),translucencyByDistance:Object(r["a"])("translucencyByDistance"),distanceDisplayCondition:Object(r["a"])("distanceDisplayCondition"),disableDepthTestDistance:Object(r["a"])("disableDepthTestDistance")}),l.prototype.clone=function(t){return Object(a["a"])(t)?(t.show=this.show,t.pixelSize=this.pixelSize,t.heightReference=this.heightReference,t.color=this.color,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.scaleByDistance=this.scaleByDistance,t.translucencyByDistance=this._translucencyByDistance,t.distanceDisplayCondition=this.distanceDisplayCondition,t.disableDepthTestDistance=this.disableDepthTestDistance,t):new l(this)},l.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.pixelSize=Object(o["a"])(this.pixelSize,t.pixelSize),this.heightReference=Object(o["a"])(this.heightReference,t.heightReference),this.color=Object(o["a"])(this.color,t.color),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.scaleByDistance=Object(o["a"])(this.scaleByDistance,t.scaleByDistance),this.translucencyByDistance=Object(o["a"])(this._translucencyByDistance,t.translucencyByDistance),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.disableDepthTestDistance=Object(o["a"])(this.disableDepthTestDistance,t.disableDepthTestDistance)},i["a"]=l},b4c8:function(t,i,e){"use strict";var o=e("933b"),a=e("be18"),n=e("bd8d"),s=e("2f63"),r=e("7d62"),l=e("aee6"),h=e("6dfc"),c=e("add9"),d=e("2d75"),p=e("2d19"),u=e("ea07"),y=n["a"].WHITE,_=n["a"].BLACK,g=0,b=1,f=0,O=new n["a"],v=new a["a"],m=new n["a"],j=new h["a"],C=new h["a"],w=new l["a"];function D(t){this.entity=t,this.pointPrimitive=void 0,this.billboard=void 0,this.color=void 0,this.outlineColor=void 0,this.pixelSize=void 0,this.outlineWidth=void 0}function P(t,i){i.collectionChanged.addEventListener(P.prototype._onCollectionChanged,this),this._cluster=t,this._entityCollection=i,this._items=new o["a"],this._onCollectionChanged(i,i.values,[],[])}function T(t,i,e){if(Object(s["a"])(t)){var o=t.pointPrimitive;if(Object(s["a"])(o))return t.pointPrimitive=void 0,void e.removePoint(i);var a=t.billboard;Object(s["a"])(a)&&(t.billboard=void 0,e.removeBillboard(i))}}P.prototype.update=function(t){for(var i=this._items.values,e=this._cluster,o=0,r=i.length;o<r;o++){var l,h=i[o],p=h.entity,D=p._point,P=h.pointPrimitive,V=h.billboard,E=u["a"].getValueOrDefault(D._heightReference,t,d["a"].NONE),M=p.isShowing&&p.isAvailable(t)&&u["a"].getValueOrDefault(D._show,t,!0);if(M&&(l=u["a"].getValueOrUndefined(p._position,t,v),M=Object(s["a"])(l)),M){u["a"].isConstant(p._position)||(e._clusterDirty=!0);var S=!1,I=!1;if(E===d["a"].NONE||Object(s["a"])(V)?E!==d["a"].NONE||Object(s["a"])(P)||(Object(s["a"])(V)&&(T(h,p,e),V=void 0),P=e.getPoint(p),P.id=p,h.pointPrimitive=P):(Object(s["a"])(P)&&(T(h,p,e),P=void 0),V=e.getBillboard(p),V.id=p,V.image=void 0,h.billboard=V,S=!0,I=a["a"].equals(V.position,l)&&V.heightReference===E),Object(s["a"])(P))P.show=!0,P.position=l,P.scaleByDistance=u["a"].getValueOrUndefined(D._scaleByDistance,t,j),P.translucencyByDistance=u["a"].getValueOrUndefined(D._translucencyByDistance,t,C),P.color=u["a"].getValueOrDefault(D._color,t,y,O),P.outlineColor=u["a"].getValueOrDefault(D._outlineColor,t,_,m),P.outlineWidth=u["a"].getValueOrDefault(D._outlineWidth,t,g),P.pixelSize=u["a"].getValueOrDefault(D._pixelSize,t,b),P.distanceDisplayCondition=u["a"].getValueOrUndefined(D._distanceDisplayCondition,t,w),P.disableDepthTestDistance=u["a"].getValueOrDefault(D._disableDepthTestDistance,t,f);else if(Object(s["a"])(V)){V.show=!0,V.position=l,V.scaleByDistance=u["a"].getValueOrUndefined(D._scaleByDistance,t,j),V.translucencyByDistance=u["a"].getValueOrUndefined(D._translucencyByDistance,t,C),V.distanceDisplayCondition=u["a"].getValueOrUndefined(D._distanceDisplayCondition,t,w),V.disableDepthTestDistance=u["a"].getValueOrDefault(D._disableDepthTestDistance,t,f),V.heightReference=E;var x=u["a"].getValueOrDefault(D._color,t,y,O),U=u["a"].getValueOrDefault(D._outlineColor,t,_,m),B=Math.round(u["a"].getValueOrDefault(D._outlineWidth,t,g)),H=Math.max(1,Math.round(u["a"].getValueOrDefault(D._pixelSize,t,b)));if(B>0?(V.scale=1,S=S||B!==h.outlineWidth||H!==h.pixelSize||!n["a"].equals(x,h.color)||!n["a"].equals(U,h.outlineColor)):(V.scale=H/50,H=50,S=S||B!==h.outlineWidth||!n["a"].equals(x,h.color)||!n["a"].equals(U,h.outlineColor)),S){h.color=n["a"].clone(x,h.color),h.outlineColor=n["a"].clone(U,h.outlineColor),h.pixelSize=H,h.outlineWidth=B;var R=x.alpha,A=x.toCssColorString(),N=U.toCssColorString(),G=JSON.stringify([A,H,N,B]);V.setImage(G,Object(c["a"])(R,A,N,B,H))}I&&V._updateClamping()}}else T(h,p,e)}return!0},P.prototype.getBoundingSphere=function(t,i){var e=this._items.get(t.id);if(!Object(s["a"])(e)||!Object(s["a"])(e.pointPrimitive)&&!Object(s["a"])(e.billboard))return p["a"].FAILED;if(Object(s["a"])(e.pointPrimitive))i.center=a["a"].clone(e.pointPrimitive.position,i.center);else{var o=e.billboard;if(!Object(s["a"])(o._clampedPosition))return p["a"].PENDING;i.center=a["a"].clone(o._clampedPosition,i.center)}return i.radius=0,p["a"].DONE},P.prototype.isDestroyed=function(){return!1},P.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(P.prototype._onCollectionChanged,this);for(var t=this._entityCollection.values,i=0;i<t.length;i++)this._cluster.removePoint(t[i]);return Object(r["a"])(this)},P.prototype._onCollectionChanged=function(t,i,e,o){var a,n,r=this._items,l=this._cluster;for(a=i.length-1;a>-1;a--)n=i[a],Object(s["a"])(n._point)&&Object(s["a"])(n._position)&&r.set(n.id,new D(n));for(a=o.length-1;a>-1;a--)n=o[a],Object(s["a"])(n._point)&&Object(s["a"])(n._position)?r.contains(n.id)||r.set(n.id,new D(n)):(T(r.get(n.id),n,l),r.remove(n.id));for(a=e.length-1;a>-1;a--)n=e[a],T(r.get(n.id),n,l),r.remove(n.id)},i["a"]=P},ba13:function(t,i,e){"use strict";var o=e("dd06"),a=e("9201"),n=e("670c"),s=e("be18"),r=e("bd8d"),l=e("9541"),h=e("2dd7"),c=e("9a9c"),d=e("2f63"),p=e("77bc"),u=e("a3bd"),y=e("d940"),_=e("452d"),g=e("c2eb"),b=e("b639"),f=e("4914"),O=e("7bf4"),v=e("eace"),m=e("ac9c"),j=e("2d75"),C=e("d6db"),w=e("3a8e"),D=e("b83c"),P=e("9171"),T=e("3ba2"),V=e("c6e8"),E=e("ea07"),M="Entity polygons cannot have both height and perPositionHeight.  height will be ignored",S="heightReference is not supported for entity polygons with perPositionHeight. heightReference will be ignored",I=new r["a"],x=s["a"].ZERO,U=new s["a"],B=new v["a"],H=[],R=new n["a"];function A(t){this.id=t,this.vertexFormat=void 0,this.polygonHierarchy=void 0,this.perPositionHeight=void 0,this.closeTop=void 0,this.closeBottom=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.offsetAttribute=void 0,this.arcType=void 0}function N(t,i){V["a"].call(this,{entity:t,scene:i,geometryOptions:new A(t),geometryPropertyName:"polygon",observedPropertyNames:["availability","polygon"]}),this._onEntityPropertyChanged(t,"polygon",t.polygon,void 0)}function G(t,i,e){P["a"].call(this,t,i,e)}Object(d["a"])(Object.create)&&(N.prototype=Object.create(V["a"].prototype),N.prototype.constructor=N),N.prototype.createFillGeometryInstance=function(t){var i,e,o=this._entity,a=o.isAvailable(t),n=this._options,s={show:new m["a"](a&&o.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),distanceDisplayCondition:p["a"].fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(t)),offset:void 0,color:void 0};this._materialProperty instanceof D["a"]&&(Object(d["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||a)&&(i=this._materialProperty.color.getValue(t,I)),Object(d["a"])(i)||(i=r["a"].WHITE),s.color=l["a"].fromColor(i));return Object(d["a"])(n.offsetAttribute)&&(s.offset=g["a"].fromCartesian3(E["a"].getValueOrDefault(this._terrainOffsetProperty,t,x,U))),e=n.perPositionHeight&&!Object(d["a"])(n.extrudedHeight)?new h["a"](n):new f["a"](n),new y["a"]({id:o,geometry:e,attributes:s})},N.prototype.createOutlineGeometryInstance=function(t){var i,e=this._entity,o=e.isAvailable(t),a=this._options,n=E["a"].getValueOrDefault(this._outlineColorProperty,t,r["a"].BLACK,I),s=this._distanceDisplayConditionProperty.getValue(t),h={show:new m["a"](o&&e.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:l["a"].fromColor(n),distanceDisplayCondition:p["a"].fromDistanceDisplayCondition(s),offset:void 0};return Object(d["a"])(a.offsetAttribute)&&(h.offset=g["a"].fromCartesian3(E["a"].getValueOrDefault(this._terrainOffsetProperty,t,x,U))),i=a.perPositionHeight&&!Object(d["a"])(a.extrudedHeight)?new c["a"](a):new O["a"](a),new y["a"]({id:e,geometry:i,attributes:h})},N.prototype._computeCenter=function(t,i){var e=E["a"].getValueOrUndefined(this._entity.polygon.hierarchy,t);if(Object(d["a"])(e)){var o=e.positions;if(0!==o.length){for(var a=this._scene.mapProjection.ellipsoid,s=u["a"].fromPoints(o,a),r=s.projectPointsOntoPlane(o,H),l=r.length,h=0,c=l-1,p=new n["a"],y=0;y<l;c=y++){var _=r[y],g=r[c],b=_.x*g.y-g.x*_.y,f=n["a"].add(_,g,R);f=n["a"].multiplyByScalar(f,b,f),p=n["a"].add(p,f,p),h+=b}var O=1/(3*h);return p=n["a"].multiplyByScalar(p,O,p),s.projectPointOntoEllipsoid(p,i)}}},N.prototype._isHidden=function(t,i){return!Object(d["a"])(i.hierarchy)||T["a"].prototype._isHidden.call(this,t,i)},N.prototype._isOnTerrain=function(t,i){var e=V["a"].prototype._isOnTerrain.call(this,t,i),o=i.perPositionHeight,a=Object(d["a"])(o)&&(!o.isConstant||o.getValue(_["a"].MINIMUM_VALUE));return e&&!a},N.prototype._isDynamic=function(t,i){return!i.hierarchy.isConstant||!E["a"].isConstant(i.height)||!E["a"].isConstant(i.extrudedHeight)||!E["a"].isConstant(i.granularity)||!E["a"].isConstant(i.stRotation)||!E["a"].isConstant(i.outlineWidth)||!E["a"].isConstant(i.perPositionHeight)||!E["a"].isConstant(i.closeTop)||!E["a"].isConstant(i.closeBottom)||!E["a"].isConstant(i.zIndex)||!E["a"].isConstant(i.arcType)||this._onTerrain&&!E["a"].isConstant(this._materialProperty)},N.prototype._setStaticOptions=function(t,i){var e=this._materialProperty instanceof D["a"],n=this._options;n.vertexFormat=e?w["a"].VERTEX_FORMAT:C["a"].MaterialSupport.TEXTURED.vertexFormat;var s,r=i.hierarchy.getValue(_["a"].MINIMUM_VALUE),l=E["a"].getValueOrUndefined(i.height,_["a"].MINIMUM_VALUE),h=E["a"].getValueOrDefault(i.heightReference,_["a"].MINIMUM_VALUE,j["a"].NONE),c=E["a"].getValueOrUndefined(i.extrudedHeight,_["a"].MINIMUM_VALUE),p=E["a"].getValueOrDefault(i.extrudedHeightReference,_["a"].MINIMUM_VALUE,j["a"].NONE),u=E["a"].getValueOrDefault(i.perPositionHeight,_["a"].MINIMUM_VALUE,!1);l=V["a"].getGeometryHeight(l,h),u?(Object(d["a"])(l)&&(l=void 0,Object(b["a"])(M)),h!==j["a"].NONE&&u&&(l=void 0,Object(b["a"])(S))):(Object(d["a"])(c)&&!Object(d["a"])(l)&&(l=0),s=V["a"].computeGeometryOffsetAttribute(l,h,c,p)),n.polygonHierarchy=r,n.granularity=E["a"].getValueOrUndefined(i.granularity,_["a"].MINIMUM_VALUE),n.stRotation=E["a"].getValueOrUndefined(i.stRotation,_["a"].MINIMUM_VALUE),n.perPositionHeight=u,n.closeTop=E["a"].getValueOrDefault(i.closeTop,_["a"].MINIMUM_VALUE,!0),n.closeBottom=E["a"].getValueOrDefault(i.closeBottom,_["a"].MINIMUM_VALUE,!0),n.offsetAttribute=s,n.height=l,n.arcType=E["a"].getValueOrDefault(i.arcType,_["a"].MINIMUM_VALUE,a["a"].GEODESIC),c=V["a"].getGeometryExtrudedHeight(c,p),c===V["a"].CLAMP_TO_GROUND&&(c=o["a"].getMinimumMaximumHeights(f["a"].computeRectangle(n,B)).minimumTerrainHeight),n.extrudedHeight=c},N.prototype._getIsClosed=function(t){var i=t.height,e=t.extrudedHeight,o=Object(d["a"])(e)&&e!==i;return!t.perPositionHeight&&(!o&&0===i||o&&t.closeTop&&t.closeBottom)},N.DynamicGeometryUpdater=G,Object(d["a"])(Object.create)&&(G.prototype=Object.create(P["a"].prototype),G.prototype.constructor=G),G.prototype._isHidden=function(t,i,e){return!Object(d["a"])(this._options.polygonHierarchy)||P["a"].prototype._isHidden.call(this,t,i,e)},G.prototype._setOptions=function(t,i,e){var n=this._options;n.polygonHierarchy=E["a"].getValueOrUndefined(i.hierarchy,e);var s,r=E["a"].getValueOrUndefined(i.height,e),l=E["a"].getValueOrDefault(i.heightReference,e,j["a"].NONE),h=E["a"].getValueOrDefault(i.extrudedHeightReference,e,j["a"].NONE),c=E["a"].getValueOrUndefined(i.extrudedHeight,e),p=E["a"].getValueOrUndefined(i.perPositionHeight,e);r=V["a"].getGeometryHeight(r,h),p?(Object(d["a"])(r)&&(r=void 0,Object(b["a"])(M)),l!==j["a"].NONE&&p&&(r=void 0,Object(b["a"])(S))):(Object(d["a"])(c)&&!Object(d["a"])(r)&&(r=0),s=V["a"].computeGeometryOffsetAttribute(r,l,c,h)),n.granularity=E["a"].getValueOrUndefined(i.granularity,e),n.stRotation=E["a"].getValueOrUndefined(i.stRotation,e),n.perPositionHeight=E["a"].getValueOrUndefined(i.perPositionHeight,e),n.closeTop=E["a"].getValueOrDefault(i.closeTop,e,!0),n.closeBottom=E["a"].getValueOrDefault(i.closeBottom,e,!0),n.offsetAttribute=s,n.height=r,n.arcType=E["a"].getValueOrDefault(i.arcType,e,a["a"].GEODESIC),c=V["a"].getGeometryExtrudedHeight(c,h),c===V["a"].CLAMP_TO_GROUND&&(c=o["a"].getMinimumMaximumHeights(f["a"].computeRectangle(n,B)).minimumTerrainHeight),n.extrudedHeight=c},i["a"]=N},be67:function(t,i,e){"use strict";var o=e("670c"),a=e("be18"),n=e("bd8d"),s=e("9541"),r=e("2f63"),l=e("77bc"),h=e("d940"),c=e("452d"),d=e("93da"),p=e("df07"),u=e("52f0"),y=e("2105"),_=e("b999"),g=e("0260"),b=e("ac9c"),f=e("d6db"),O=e("3a8e"),v=e("b83c"),m=e("9171"),j=e("3ba2"),C=e("ea07"),w=new a["a"],D=new n["a"];function P(t){this.id=t,this.vertexFormat=void 0,this.plane=void 0,this.dimensions=void 0}function T(t,i){j["a"].call(this,{entity:t,scene:i,geometryOptions:new P(t),geometryPropertyName:"plane",observedPropertyNames:["availability","position","orientation","plane"]}),this._onEntityPropertyChanged(t,"plane",t.plane,void 0)}function V(t,i,e){m["a"].call(this,t,i,e)}Object(r["a"])(Object.create)&&(T.prototype=Object.create(j["a"].prototype),T.prototype.constructor=T),T.prototype.createFillGeometryInstance=function(t){var i,e,o,a=this._entity,c=a.isAvailable(t),d=new b["a"](c&&a.isShowing&&this._showProperty.getValue(t)&&this._fillProperty.getValue(t)),p=this._distanceDisplayConditionProperty.getValue(t),u=l["a"].fromDistanceDisplayCondition(p);this._materialProperty instanceof v["a"]?(Object(r["a"])(this._materialProperty.color)&&(this._materialProperty.color.isConstant||c)&&(o=this._materialProperty.color.getValue(t,D)),Object(r["a"])(o)||(o=n["a"].WHITE),e=s["a"].fromColor(o),i={show:d,distanceDisplayCondition:u,color:e}):i={show:d,distanceDisplayCondition:u};var _=a.plane,g=this._options,f=a.computeModelMatrix(t),O=C["a"].getValueOrDefault(_.plane,t,g.plane),m=C["a"].getValueOrUndefined(_.dimensions,t,g.dimensions);return g.plane=O,g.dimensions=m,f=H(O,m,f,this._scene.mapProjection.ellipsoid,f),new h["a"]({id:a,geometry:new y["a"](this._options),modelMatrix:f,attributes:i})},T.prototype.createOutlineGeometryInstance=function(t){var i=this._entity,e=i.isAvailable(t),o=C["a"].getValueOrDefault(this._outlineColorProperty,t,n["a"].BLACK,D),a=this._distanceDisplayConditionProperty.getValue(t),r=i.plane,c=this._options,d=i.computeModelMatrix(t),p=C["a"].getValueOrDefault(r.plane,t,c.plane),u=C["a"].getValueOrUndefined(r.dimensions,t,c.dimensions);return c.plane=p,c.dimensions=u,d=H(p,u,d,this._scene.mapProjection.ellipsoid,d),new h["a"]({id:i,geometry:new _["a"],modelMatrix:d,attributes:{show:new b["a"](e&&i.isShowing&&this._showProperty.getValue(t)&&this._showOutlineProperty.getValue(t)),color:s["a"].fromColor(o),distanceDisplayCondition:l["a"].fromDistanceDisplayCondition(a)}})},T.prototype._isHidden=function(t,i){return!Object(r["a"])(i.plane)||!Object(r["a"])(i.dimensions)||!Object(r["a"])(t.position)||j["a"].prototype._isHidden.call(this,t,i)},T.prototype._getIsClosed=function(t){return!1},T.prototype._isDynamic=function(t,i){return!t.position.isConstant||!C["a"].isConstant(t.orientation)||!i.plane.isConstant||!i.dimensions.isConstant||!C["a"].isConstant(i.outlineWidth)},T.prototype._setStaticOptions=function(t,i){var e=this._materialProperty instanceof v["a"],o=this._options;o.vertexFormat=e?O["a"].VERTEX_FORMAT:f["a"].MaterialSupport.TEXTURED.vertexFormat,o.plane=i.plane.getValue(c["a"].MINIMUM_VALUE,o.plane),o.dimensions=i.dimensions.getValue(c["a"].MINIMUM_VALUE,o.dimensions)},T.DynamicGeometryUpdater=V,Object(r["a"])(Object.create)&&(V.prototype=Object.create(m["a"].prototype),V.prototype.constructor=V),V.prototype._isHidden=function(t,i,e){var o=this._options,a=C["a"].getValueOrUndefined(t.position,e,w);return!Object(r["a"])(a)||!Object(r["a"])(o.plane)||!Object(r["a"])(o.dimensions)||m["a"].prototype._isHidden.call(this,t,i,e)},V.prototype._setOptions=function(t,i,e){var o=this._options;o.plane=C["a"].getValueOrDefault(i.plane,e,o.plane),o.dimensions=C["a"].getValueOrUndefined(i.dimensions,e,o.dimensions)};var E=new a["a"],M=new a["a"],S=new a["a"],I=new a["a"],x=new a["a"],U=new g["a"],B=new p["a"];function H(t,i,e,n,s){var r=t.normal,l=t.distance,h=a["a"].multiplyByScalar(r,-l,S);h=u["a"].multiplyByPoint(e,h,h);var c=u["a"].multiplyByPointAsVector(e,r,I);a["a"].normalize(c,c);var y=n.geodeticSurfaceNormal(h,M);d["a"].equalsEpsilon(Math.abs(a["a"].dot(y,c)),1,d["a"].EPSILON8)&&(y=a["a"].clone(a["a"].UNIT_Z,y));var _=a["a"].cross(y,c,E);y=a["a"].cross(c,_,y),a["a"].normalize(_,_),a["a"].normalize(y,y);var b=B;p["a"].setColumn(b,0,_,b),p["a"].setColumn(b,1,y,b),p["a"].setColumn(b,2,c,b);var f=g["a"].fromRotationMatrix(b,U),O=o["a"].clone(i,x);return O.z=1,u["a"].fromTranslationQuaternionRotationScale(h,f,O,s)}T.createPrimitiveMatrix=H,i["a"]=T},c21f:function(t,i,e){"use strict";var o=e("be18"),a=e("2f63"),n=e("9f1d"),s=e("4f04"),r=e("df07"),l=e("7749"),h=e("f806");function c(){s["a"].throwInstantiationError()}Object(n["a"])(c.prototype,{isConstant:{get:s["a"].throwInstantiationError},definitionChanged:{get:s["a"].throwInstantiationError},referenceFrame:{get:s["a"].throwInstantiationError}}),c.prototype.getValue=s["a"].throwInstantiationError,c.prototype.getValueInReferenceFrame=s["a"].throwInstantiationError,c.prototype.equals=s["a"].throwInstantiationError;var d=new r["a"];c.convertToReferenceFrame=function(t,i,e,n,s){if(!Object(a["a"])(i))return i;if(Object(a["a"])(s)||(s=new o["a"]),e===n)return o["a"].clone(i,s);var c=h["a"].computeIcrfToFixedMatrix(t,d);return Object(a["a"])(c)||(c=h["a"].computeTemeToPseudoFixedMatrix(t,d)),e===l["a"].INERTIAL?r["a"].multiplyByVector(c,i,s):e===l["a"].FIXED?r["a"].multiplyByVector(r["a"].transpose(c,d),i,s):void 0},i["a"]=c},d9c4:function(t,i,e){"use strict";var o=e("535a"),a=e("2f63"),n=e("9f1d"),s=e("21d7"),r=e("c2aa"),l=e("1757"),h=e("984f"),c=e("dde7"),d=e("0a43");function p(t){return Object(r["a"])(t)&&(t=new l["a"](t)),new h["a"](t)}function u(t){this._definitionChanged=new s["a"],this._show=void 0,this._showSubscription=void 0,this._hierarchy=void 0,this._hierarchySubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._perPositionHeight=void 0,this._perPositionHeightSubscription=void 0,this._closeTop=void 0,this._closeTopSubscription=void 0,this._closeBottom=void 0,this._closeBottomSubscription=void 0,this._arcType=void 0,this._arcTypeSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(o["a"])(t,o["a"].EMPTY_OBJECT))}Object(n["a"])(u.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(d["a"])("show"),hierarchy:Object(d["a"])("hierarchy",void 0,p),height:Object(d["a"])("height"),heightReference:Object(d["a"])("heightReference"),extrudedHeight:Object(d["a"])("extrudedHeight"),extrudedHeightReference:Object(d["a"])("extrudedHeightReference"),stRotation:Object(d["a"])("stRotation"),granularity:Object(d["a"])("granularity"),fill:Object(d["a"])("fill"),material:Object(c["a"])("material"),outline:Object(d["a"])("outline"),outlineColor:Object(d["a"])("outlineColor"),outlineWidth:Object(d["a"])("outlineWidth"),perPositionHeight:Object(d["a"])("perPositionHeight"),closeTop:Object(d["a"])("closeTop"),closeBottom:Object(d["a"])("closeBottom"),arcType:Object(d["a"])("arcType"),shadows:Object(d["a"])("shadows"),distanceDisplayCondition:Object(d["a"])("distanceDisplayCondition"),classificationType:Object(d["a"])("classificationType"),zIndex:Object(d["a"])("zIndex")}),u.prototype.clone=function(t){return Object(a["a"])(t)?(t.show=this.show,t.hierarchy=this.hierarchy,t.height=this.height,t.heightReference=this.heightReference,t.extrudedHeight=this.extrudedHeight,t.extrudedHeightReference=this.extrudedHeightReference,t.stRotation=this.stRotation,t.granularity=this.granularity,t.fill=this.fill,t.material=this.material,t.outline=this.outline,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.perPositionHeight=this.perPositionHeight,t.closeTop=this.closeTop,t.closeBottom=this.closeBottom,t.arcType=this.arcType,t.shadows=this.shadows,t.distanceDisplayCondition=this.distanceDisplayCondition,t.classificationType=this.classificationType,t.zIndex=this.zIndex,t):new u(this)},u.prototype.merge=function(t){this.show=Object(o["a"])(this.show,t.show),this.hierarchy=Object(o["a"])(this.hierarchy,t.hierarchy),this.height=Object(o["a"])(this.height,t.height),this.heightReference=Object(o["a"])(this.heightReference,t.heightReference),this.extrudedHeight=Object(o["a"])(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=Object(o["a"])(this.extrudedHeightReference,t.extrudedHeightReference),this.stRotation=Object(o["a"])(this.stRotation,t.stRotation),this.granularity=Object(o["a"])(this.granularity,t.granularity),this.fill=Object(o["a"])(this.fill,t.fill),this.material=Object(o["a"])(this.material,t.material),this.outline=Object(o["a"])(this.outline,t.outline),this.outlineColor=Object(o["a"])(this.outlineColor,t.outlineColor),this.outlineWidth=Object(o["a"])(this.outlineWidth,t.outlineWidth),this.perPositionHeight=Object(o["a"])(this.perPositionHeight,t.perPositionHeight),this.closeTop=Object(o["a"])(this.closeTop,t.closeTop),this.closeBottom=Object(o["a"])(this.closeBottom,t.closeBottom),this.arcType=Object(o["a"])(this.arcType,t.arcType),this.shadows=Object(o["a"])(this.shadows,t.shadows),this.distanceDisplayCondition=Object(o["a"])(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=Object(o["a"])(this.classificationType,t.classificationType),this.zIndex=Object(o["a"])(this.zIndex,t.zIndex)},i["a"]=u}}]);