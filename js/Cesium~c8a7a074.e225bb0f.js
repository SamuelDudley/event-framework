(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cesium~c8a7a074"],{"3e5e":function(e,t,a){"use strict";var r=a("2f63");function i(){this.name=void 0,this.description=void 0,this.position=void 0,this.data=void 0,this.imageryLayer=void 0}i.prototype.configureNameFromProperties=function(e){var t,a=10;for(var i in e)if(e.hasOwnProperty(i)&&e[i]){var n=i.toLowerCase();a>1&&"name"===n?(a=1,t=i):a>2&&"title"===n?(a=2,t=i):a>3&&/name/i.test(i)?(a=3,t=i):a>4&&/title/i.test(i)&&(a=4,t=i)}Object(r["a"])(t)&&(this.name=e[t])},i.prototype.configureDescriptionFromProperties=function(e){function t(e){var a='<table class="cesium-infoBox-defaultTable">';for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];Object(r["a"])(n)&&(a+="object"===typeof n?"<tr><td>"+i+"</td><td>"+t(n)+"</td></tr>":"<tr><td>"+i+"</td><td>"+n+"</td></tr>")}return a+="</table>",a}this.description=t(e)},t["a"]=i},4436:function(e,t,a){"use strict";var r=a("2f63"),i=a("9f1d"),n=a("ddf7"),o=a("568a");function s(e){this._total=e,this.usedThisFrame=0,this.stolenFromMeThisFrame=0,this.starvedThisFrame=!1,this.starvedLastFrame=!1}function c(e){var t=new Array(o["a"].NUMBER_OF_JOB_TYPES);t[o["a"].TEXTURE]=new s(Object(r["a"])(e)?e[o["a"].TEXTURE]:10),t[o["a"].PROGRAM]=new s(Object(r["a"])(e)?e[o["a"].PROGRAM]:10),t[o["a"].BUFFER]=new s(Object(r["a"])(e)?e[o["a"].BUFFER]:30);var a,i=t.length,n=0;for(a=0;a<i;++a)n+=t[a].total;var c=new Array(i);for(a=0;a<i;++a)c[a]=!1;this._totalBudget=n,this._totalUsedThisFrame=0,this._budgets=t,this._executedThisFrame=c}Object(i["a"])(s.prototype,{total:{get:function(){return this._total}}}),c.getTimestamp=n["a"],Object(i["a"])(c.prototype,{totalBudget:{get:function(){return this._totalBudget}}}),c.prototype.disableThisFrame=function(){this._totalUsedThisFrame=this._totalBudget},c.prototype.resetBudgets=function(){for(var e=this._budgets,t=e.length,a=0;a<t;++a){var r=e[a];r.starvedLastFrame=r.starvedThisFrame,r.starvedThisFrame=!1,r.usedThisFrame=0,r.stolenFromMeThisFrame=0}this._totalUsedThisFrame=0},c.prototype.execute=function(e,t){var a,r=this._budgets,i=r[t],n=this._executedThisFrame[t];if(this._totalUsedThisFrame>=this._totalBudget&&n)return i.starvedThisFrame=!0,!1;if(i.usedThisFrame+i.stolenFromMeThisFrame>=i.total){var o,s=r.length;for(o=0;o<s;++o)if(a=r[o],a.usedThisFrame+a.stolenFromMeThisFrame<a.total&&!a.starvedLastFrame)break;if(o===s&&n)return!1;n&&(i.starvedThisFrame=!0)}var h=c.getTimestamp();e.execute();var l=c.getTimestamp()-h;return this._totalUsedThisFrame+=l,a?a.stolenFromMeThisFrame+=l:i.usedThisFrame+=l,this._executedThisFrame[t]=!0,!0},t["a"]=c},"490e":function(e,t,a){"use strict";var r=a("c8d1"),i=a("be18"),n=a("bd8d"),o=a("abab"),s=a("535a"),c=a("2f63"),h=a("9f1d"),l=a("45c5"),u=a("7d62"),d=a("c52f"),f=a("129b"),m=a("df07"),p=a("52f0"),_=a("0260"),g=a("b82e"),v=a("283e"),y=a("f806"),b=a("3372"),T=a("d289"),O=a("b08e"),E=a("6596"),x=a("5af0"),A=a("9889"),C=a("1e38");function w(e,t,a,r,i){this._tileset=e,this._tile=t,this._resource=a,this._modelInstanceCollection=void 0,this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,j(this,r,i)}function I(e){return function(){return e._batchTable.getPickId()}}w._deprecationWarning=l["a"],Object(h["a"])(w.prototype,{featuresLength:{get:function(){return this._batchTable.featuresLength}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){var e=this._modelInstanceCollection._model;return Object(c["a"])(e)?e.trianglesLength:0}},geometryByteLength:{get:function(){var e=this._modelInstanceCollection._model;return Object(c["a"])(e)?e.geometryByteLength:0}},texturesByteLength:{get:function(){var e=this._modelInstanceCollection._model;return Object(c["a"])(e)?e.texturesByteLength:0}},batchTableByteLength:{get:function(){return this._batchTable.memorySizeInBytes}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._modelInstanceCollection.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var L=Uint32Array.BYTES_PER_ELEMENT,F=new Array(4),P=new Array(4);function j(e,t,a){var n=Object(s["a"])(a,0);a=n;var h=new Uint8Array(t),l=new DataView(t);a+=L;var u=l.getUint32(a,!0);if(1!==u)throw new v["a"]("Only Instanced 3D Model version 1 is supported. Version "+u+" is not.");a+=L;var x=l.getUint32(a,!0);a+=L;var j=l.getUint32(a,!0);if(0===j)throw new v["a"]("featureTableJsonByteLength is zero, the feature table must be defined.");a+=L;var R=l.getUint32(a,!0);a+=L;var M=l.getUint32(a,!0);a+=L;var S=l.getUint32(a,!0);a+=L;var D=l.getUint32(a,!0);if(1!==D&&0!==D)throw new v["a"]("Only glTF format 0 (uri) or 1 (embedded) are supported. Format "+D+" is not.");a+=L;var N=Object(f["a"])(h,a,j),U=JSON.parse(N);a+=j;var B=new Uint8Array(t,a,R);a+=R;var G,H,k=new A["a"](U,B),Y=k.getGlobalProperty("INSTANCES_LENGTH");if(k.featuresLength=Y,!Object(c["a"])(Y))throw new v["a"]("Feature table global property: INSTANCES_LENGTH must be defined");if(M>0){var W=Object(f["a"])(h,a,M);G=JSON.parse(W),a+=M,S>0&&(H=new Uint8Array(t,a,S),H=new Uint8Array(H),a+=S)}e._batchTable=new E["a"](e,Y,G,H);var q,V=n+x-a;if(0===V)throw new v["a"]("glTF byte length is zero, i3dm must have a glTF to instance.");a%4===0?q=new Uint8Array(t,a,V):(w._deprecationWarning("i3dm-glb-unaligned","The embedded glb is not aligned to a 4-byte boundary."),q=new Uint8Array(h.subarray(a,a+V)));var X=e._tileset,z={instances:new Array(Y),batchTable:e._batchTable,cull:!1,url:void 0,requestType:g["a"].TILES3D,gltf:void 0,basePath:void 0,incrementallyLoadTextures:!1,upAxis:X._gltfUpAxis,forwardAxis:O["a"].X,opaquePass:T["a"].CESIUM_3D_TILE,pickIdLoaded:I(e),imageBasedLightingFactor:X.imageBasedLightingFactor,lightColor:X.lightColor,luminanceAtZenith:X.luminanceAtZenith,sphericalHarmonicCoefficients:X.sphericalHarmonicCoefficients,specularEnvironmentMaps:X.specularEnvironmentMaps};if(0===D){var J=Object(f["a"])(q);J=J.replace(/[\s\0]+$/,""),z.url=e._resource.getDerivedResource({url:J})}else z.gltf=q,z.basePath=e._resource.clone();var Q,Z=k.getGlobalProperty("EAST_NORTH_UP"),K=k.getGlobalProperty("RTC_CENTER",o["a"].FLOAT,3);Object(c["a"])(K)&&(Q=i["a"].unpack(K));for(var $=z.instances,ee=new i["a"],te=new Array(3),ae=new i["a"],re=new i["a"],ie=new i["a"],ne=new m["a"],oe=new _["a"],se=new i["a"],ce=new b["a"],he=new p["a"],le=0;le<Y;le++){var ue=k.getProperty("POSITION",o["a"].FLOAT,3,le,F);if(!Object(c["a"])(ue)){ue=te;var de=k.getProperty("POSITION_QUANTIZED",o["a"].UNSIGNED_SHORT,3,le,F);if(!Object(c["a"])(de))throw new v["a"]("Either POSITION or POSITION_QUANTIZED must be defined for each instance.");var fe=k.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",o["a"].FLOAT,3);if(!Object(c["a"])(fe))throw new v["a"]("Global property: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var me=k.getGlobalProperty("QUANTIZED_VOLUME_SCALE",o["a"].FLOAT,3);if(!Object(c["a"])(me))throw new v["a"]("Global property: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var pe=0;pe<3;pe++)ue[pe]=de[pe]/65535*me[pe]+fe[pe]}i["a"].unpack(ue,0,ee),Object(c["a"])(Q)&&i["a"].add(ee,Q,ee),ce.translation=ee;var _e=k.getProperty("NORMAL_UP",o["a"].FLOAT,3,le,F),ge=k.getProperty("NORMAL_RIGHT",o["a"].FLOAT,3,le,P),ve=!1;if(Object(c["a"])(_e)){if(!Object(c["a"])(ge))throw new v["a"]("To define a custom orientation, both NORMAL_UP and NORMAL_RIGHT must be defined.");i["a"].unpack(_e,0,re),i["a"].unpack(ge,0,ae),ve=!0}else{var ye=k.getProperty("NORMAL_UP_OCT32P",o["a"].UNSIGNED_SHORT,2,le,F),be=k.getProperty("NORMAL_RIGHT_OCT32P",o["a"].UNSIGNED_SHORT,2,le,P);if(Object(c["a"])(ye)){if(!Object(c["a"])(be))throw new v["a"]("To define a custom orientation with oct-encoded vectors, both NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P must be defined.");r["a"].octDecodeInRange(ye[0],ye[1],65535,re),r["a"].octDecodeInRange(be[0],be[1],65535,ae),ve=!0}else Z?(y["a"].eastNorthUpToFixedFrame(ee,d["a"].WGS84,he),p["a"].getMatrix3(he,ne)):m["a"].clone(m["a"].IDENTITY,ne)}ve&&(i["a"].cross(ae,re,ie),i["a"].normalize(ie,ie),m["a"].setColumn(ne,0,ae,ne),m["a"].setColumn(ne,1,re,ne),m["a"].setColumn(ne,2,ie,ne)),_["a"].fromRotationMatrix(ne,oe),ce.rotation=oe,se=i["a"].fromElements(1,1,1,se);var Te=k.getProperty("SCALE",o["a"].FLOAT,1,le);Object(c["a"])(Te)&&i["a"].multiplyByScalar(se,Te,se);var Oe=k.getProperty("SCALE_NON_UNIFORM",o["a"].FLOAT,3,le,F);Object(c["a"])(Oe)&&(se.x*=Oe[0],se.y*=Oe[1],se.z*=Oe[2]),ce.scale=se;var Ee=k.getProperty("BATCH_ID",o["a"].UNSIGNED_SHORT,1,le);Object(c["a"])(Ee)||(Ee=le),p["a"].fromTranslationRotationScale(ce,he);var xe=he.clone();$[le]={modelMatrix:xe,batchId:Ee}}e._modelInstanceCollection=new C["a"](z)}function R(e){var t=e.featuresLength;if(!Object(c["a"])(e._features)&&t>0){for(var a=new Array(t),r=0;r<t;++r)a[r]=new x["a"](e,r);e._features=a}}w.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},w.prototype.getFeature=function(e){this.featuresLength;return R(this),this._features[e]},w.prototype.applyDebugSettings=function(e,t){t=e?t:n["a"].WHITE,this._batchTable.setAllColor(t)},w.prototype.applyStyle=function(e){this._batchTable.applyStyle(e)},w.prototype.update=function(e,t){var a=t.commandList.length;this._batchTable.update(e,t),this._modelInstanceCollection.modelMatrix=this._tile.computedTransform,this._modelInstanceCollection.shadows=this._tileset.shadows,this._modelInstanceCollection.lightColor=this._tileset.lightColor,this._modelInstanceCollection.luminanceAtZenith=this._tileset.luminanceAtZenith,this._modelInstanceCollection.sphericalHarmonicCoefficients=this._tileset.sphericalHarmonicCoefficients,this._modelInstanceCollection.specularEnvironmentMaps=this._tileset.specularEnvironmentMaps,this._modelInstanceCollection.debugWireframe=this._tileset.debugWireframe;var r=this._modelInstanceCollection._model;if(Object(c["a"])(r)){var i=this._tileset.clippingPlanes;r.clippingPlanesOriginMatrix=this._tileset.clippingPlanesOriginMatrix,Object(c["a"])(i)&&this._tile.clippingPlanesDirty&&(r._clippingPlanes=i.enabled&&this._tile._isClipped?i:void 0),Object(c["a"])(i)&&Object(c["a"])(r._clippingPlanes)&&r._clippingPlanes!==i&&(r._clippingPlanes=i)}this._modelInstanceCollection.update(t);var n=t.commandList.length;a<n&&(t.passes.render||t.passes.pick)&&this._batchTable.addDerivedCommands(t,a,!1)},w.prototype.isDestroyed=function(){return!1},w.prototype.destroy=function(){return this._modelInstanceCollection=this._modelInstanceCollection&&this._modelInstanceCollection.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(u["a"])(this)},t["a"]=w},"4ad5":function(e,t,a){"use strict";var r=a("535a"),i=a("2f63"),n=a("9f1d"),o=a("21d7"),s=a("b195"),c=a("283e"),h=a("a58e"),l=a("5856"),u=a("c078"),d=a("ed98"),f=a("324a"),m=a("ec56"),p=a("b85d"),_=a("e288"),g=a("dda8"),v=a("f915");function y(e){return function(t){return new e(t)}}var b={ARCGIS_MAPSERVER:y(l["a"]),BING:y(u["a"]),GOOGLE_EARTH:y(f["a"]),MAPBOX:y(m["a"]),SINGLE_TILE:y(p["a"]),TMS:y(d["a"]),URL_TEMPLATE:y(_["a"]),WMS:y(g["a"]),WMTS:y(v["a"])};function T(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);var t=e.assetId;this.defaultAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._ready=!1,this._tileCredits=void 0,this._errorEvent=new o["a"];var a=this,n=s["a"]._createEndpointResource(t,e),l=e.assetId.toString()+e.accessToken+e.server,u=T._endpointCache[l];Object(i["a"])(u)||(u=n.fetchJson(),T._endpointCache[l]=u),this._readyPromise=u.then((function(e){if("IMAGERY"!==e.type)return h["a"].reject(new c["a"]("Cesium ion asset "+t+" is not an imagery asset."));var r,o=e.externalType;if(Object(i["a"])(o)){var l=b[o];if(!Object(i["a"])(l))return h["a"].reject(new c["a"]("Unrecognized Cesium ion imagery type: "+o));r=l(e.options)}else r=new d["a"]({url:new s["a"](e,n)});return a._tileCredits=s["a"].getCreditsFromEndpoint(e,n),r.errorEvent.addEventListener((function(e){e.provider=a,a._errorEvent.raiseEvent(e)})),a._imageryProvider=r,r.readyPromise.then((function(){return a._ready=!0,!0}))}))}Object(n["a"])(T.prototype,{ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),T.prototype.getTileCredits=function(e,t,a){var r=this._imageryProvider.getTileCredits(e,t,a);return Object(i["a"])(r)?this._tileCredits.concat(r):this._tileCredits},T.prototype.requestImage=function(e,t,a,r){return this._imageryProvider.requestImage(e,t,a,r)},T.prototype.pickFeatures=function(e,t,a,r,i){return this._imageryProvider.pickFeatures(e,t,a,r,i)},T._endpointCache={},t["a"]=T},"506f":function(e,t,a){"use strict";var r=a("535a"),i=a("2f63"),n=a("9f1d"),o=a("7d62"),s=a("21d7"),c=a("93da"),h=a("eace"),l=a("a58e"),u=a("ad4a");function d(){this._layers=[],this.layerAdded=new s["a"],this.layerRemoved=new s["a"],this.layerMoved=new s["a"],this.layerShownOrHidden=new s["a"]}function f(e,t){var a=e.indexOf(t);return a}function m(e,t,a){var r=e._layers;if(t=c["a"].clamp(t,0,r.length-1),a=c["a"].clamp(a,0,r.length-1),t!==a){var i=r[t];r[t]=r[a],r[a]=i,e._update(),e.layerMoved.raiseEvent(i,a,t)}}Object(n["a"])(d.prototype,{length:{get:function(){return this._layers.length}}}),d.prototype.add=function(e,t){var a=Object(i["a"])(t);a?this._layers.splice(t,0,e):(t=this._layers.length,this._layers.push(e)),this._update(),this.layerAdded.raiseEvent(e,t)},d.prototype.addImageryProvider=function(e,t){var a=new u["a"](e);return this.add(a,t),a},d.prototype.remove=function(e,t){t=Object(r["a"])(t,!0);var a=this._layers.indexOf(e);return-1!==a&&(this._layers.splice(a,1),this._update(),this.layerRemoved.raiseEvent(e,a),t&&e.destroy(),!0)},d.prototype.removeAll=function(e){e=Object(r["a"])(e,!0);for(var t=this._layers,a=0,i=t.length;a<i;a++){var n=t[a];this.layerRemoved.raiseEvent(n,a),e&&n.destroy()}this._layers=[]},d.prototype.contains=function(e){return-1!==this.indexOf(e)},d.prototype.indexOf=function(e){return this._layers.indexOf(e)},d.prototype.get=function(e){return this._layers[e]},d.prototype.raise=function(e){var t=f(this._layers,e);m(this,t,t+1)},d.prototype.lower=function(e){var t=f(this._layers,e);m(this,t,t-1)},d.prototype.raiseToTop=function(e){var t=f(this._layers,e);t!==this._layers.length-1&&(this._layers.splice(t,1),this._layers.push(e),this._update(),this.layerMoved.raiseEvent(e,this._layers.length-1,t))},d.prototype.lowerToBottom=function(e){var t=f(this._layers,e);0!==t&&(this._layers.splice(t,1),this._layers.splice(0,0,e),this._update(),this.layerMoved.raiseEvent(e,0,t))};var p=new h["a"];d.prototype.pickImageryLayerFeatures=function(e,t){var a=t.globe.pick(e,t);if(Object(i["a"])(a)){for(var r,n=t.globe.ellipsoid.cartesianToCartographic(a),o=t.globe._surface._tilesToRender,s=0;!Object(i["a"])(r)&&s<o.length;++s){var u=o[s];h["a"].contains(u.rectangle,n)&&(r=u)}if(Object(i["a"])(r)){for(var d=r.data.imagery,f=[],m=[],_=d.length-1;_>=0;--_){var g=d[_],v=g.readyImagery;if(Object(i["a"])(v)){var y=v.imageryLayer.imageryProvider;if(Object(i["a"])(y.pickFeatures)&&h["a"].contains(v.rectangle,n)){var b=p,T=1/1024;if(b.west=c["a"].lerp(r.rectangle.west,r.rectangle.east,g.textureCoordinateRectangle.x-T),b.east=c["a"].lerp(r.rectangle.west,r.rectangle.east,g.textureCoordinateRectangle.z+T),b.south=c["a"].lerp(r.rectangle.south,r.rectangle.north,g.textureCoordinateRectangle.y-T),b.north=c["a"].lerp(r.rectangle.south,r.rectangle.north,g.textureCoordinateRectangle.w+T),h["a"].contains(b,n)){var O=y.pickFeatures(v.x,v.y,v.level,n.longitude,n.latitude);Object(i["a"])(O)&&(f.push(O),m.push(v.imageryLayer))}}}}if(0!==f.length)return l["a"].all(f,(function(e){for(var t=[],a=0;a<e.length;++a){var r=e[a],o=m[a];if(Object(i["a"])(r)&&r.length>0)for(var s=0;s<r.length;++s){var c=r[s];c.imageryLayer=o,Object(i["a"])(c.position)||(c.position=n),t.push(c)}}return t}))}}},d.prototype.queueReprojectionCommands=function(e){for(var t=this._layers,a=0,r=t.length;a<r;++a)t[a].queueReprojectionCommands(e)},d.prototype.cancelReprojections=function(){for(var e=this._layers,t=0,a=e.length;t<a;++t)e[t].cancelReprojections()},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return this.removeAll(!0),Object(o["a"])(this)},d.prototype._update=function(){var e,t,a,r,n=!0,o=this._layers;for(a=0,r=o.length;a<r;++a)t=o[a],t._layerIndex=a,t.show?(t._isBaseLayer=n,n=!1):t._isBaseLayer=!1,t.show!==t._show&&(Object(i["a"])(t._show)&&(Object(i["a"])(e)||(e=[]),e.push(t)),t._show=t.show);if(Object(i["a"])(e))for(a=0,r=e.length;a<r;++a)t=e[a],this.layerShownOrHidden.raiseEvent(t,t._layerIndex,t.show)},t["a"]=d},"568a":function(e,t,a){"use strict";var r=a("0e25"),i={TEXTURE:0,PROGRAM:1,BUFFER:2,NUMBER_OF_JOB_TYPES:3};t["a"]=Object(r["a"])(i)},"64ac":function(e,t,a){"use strict";var r=a("2f63"),i=a("9f1d"),n=a("4f04"),o=a("0711"),s=a("c67a"),c=a("d4ed");function h(){this.defaultAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,n["a"].throwInstantiationError()}Object(i["a"])(h.prototype,{ready:{get:n["a"].throwInstantiationError},readyPromise:{get:n["a"].throwInstantiationError},rectangle:{get:n["a"].throwInstantiationError},tileWidth:{get:n["a"].throwInstantiationError},tileHeight:{get:n["a"].throwInstantiationError},maximumLevel:{get:n["a"].throwInstantiationError},minimumLevel:{get:n["a"].throwInstantiationError},tilingScheme:{get:n["a"].throwInstantiationError},tileDiscardPolicy:{get:n["a"].throwInstantiationError},errorEvent:{get:n["a"].throwInstantiationError},credit:{get:n["a"].throwInstantiationError},proxy:{get:n["a"].throwInstantiationError},hasAlphaChannel:{get:n["a"].throwInstantiationError}}),h.prototype.getTileCredits=n["a"].throwInstantiationError,h.prototype.requestImage=n["a"].throwInstantiationError,h.prototype.pickFeatures=n["a"].throwInstantiationError;var l=/\.ktx$/i,u=/\.crn$/i;h.loadImage=function(e,t){var a=c["a"].createIfNeeded(t);return l.test(a.url)?Object(s["a"])(a):u.test(a.url)?Object(o["a"])(a):Object(r["a"])(e)&&Object(r["a"])(e.tileDiscardPolicy)?a.fetchImage({preferBlob:!0,preferImageBitmap:!0,flipY:!0}):a.fetchImage({preferImageBitmap:!0,flipY:!0})},t["a"]=h},ad4a:function(e,t,a){"use strict";var r=a("670c"),i=a("a561"),n=a("535a"),o=a("2f63"),s=a("9f1d"),c=a("7d62"),h=a("5e57"),l=a("3d7f"),u=a("0123"),d=a("93da"),f=a("e42d"),m=a("eace"),p=a("de66"),_=a("8a39"),g=a("b82e"),v=a("1ee6"),y=a("a89b"),b=a("1184"),T=a("f20a"),O=a("8b68"),E=a("5b54"),x=a("b997"),A=a("b0e6"),C=a("6c84"),w=a("e90c"),I=a("5770"),L=a("a913"),F=a("3022"),P=a("03f1"),j=a("23b6"),R=a("7c5e"),M=a("7027"),S=a("c730"),D=a("a58e"),N=a("dddf");function U(e,t,a,r,i){if(this.imageryLayer=e,this.x=t,this.y=a,this.level=r,this.request=void 0,0!==r){var n=t/2|0,s=a/2|0,c=r-1;this.parent=e.getImageryFromCache(n,s,c)}if(this.state=N["a"].UNLOADED,this.imageUrl=void 0,this.image=void 0,this.texture=void 0,this.textureWebMercator=void 0,this.credits=void 0,this.referenceCount=0,!Object(o["a"])(i)&&e.imageryProvider.ready){var h=e.imageryProvider.tilingScheme;i=h.tileXYToRectangle(t,a,r)}this.rectangle=i}U.createPlaceholder=function(e){var t=new U(e,0,0,0);return t.addReference(),t.state=N["a"].PLACEHOLDER,t},U.prototype.addReference=function(){++this.referenceCount},U.prototype.releaseReference=function(){return--this.referenceCount,0===this.referenceCount?(this.imageryLayer.removeImageryFromCache(this),Object(o["a"])(this.parent)&&this.parent.releaseReference(),Object(o["a"])(this.image)&&Object(o["a"])(this.image.destroy)&&this.image.destroy(),Object(o["a"])(this.texture)&&this.texture.destroy(),Object(o["a"])(this.textureWebMercator)&&this.texture!==this.textureWebMercator&&this.textureWebMercator.destroy(),Object(c["a"])(this),0):this.referenceCount},U.prototype.processStateMachine=function(e,t,a){this.state!==N["a"].UNLOADED||a||(this.state=N["a"].TRANSITIONING,this.imageryLayer._requestImagery(this)),this.state===N["a"].RECEIVED&&(this.state=N["a"].TRANSITIONING,this.imageryLayer._createTexture(e.context,this));var r=this.state===N["a"].READY&&t&&!this.texture;(this.state===N["a"].TEXTURE_LOADED||r)&&(this.state=N["a"].TRANSITIONING,this.imageryLayer._reprojectTexture(e,this,t))};var B=U,G=a("0e25"),H={LEFT:-1,NONE:0,RIGHT:1},k=Object(G["a"])(H),Y=a("663d");function W(e,t){this._imageryProvider=e,t=Object(n["a"])(t,n["a"].EMPTY_OBJECT),this.alpha=Object(n["a"])(t.alpha,Object(n["a"])(e.defaultAlpha,1)),this.brightness=Object(n["a"])(t.brightness,Object(n["a"])(e.defaultBrightness,W.DEFAULT_BRIGHTNESS)),this.contrast=Object(n["a"])(t.contrast,Object(n["a"])(e.defaultContrast,W.DEFAULT_CONTRAST)),this.hue=Object(n["a"])(t.hue,Object(n["a"])(e.defaultHue,W.DEFAULT_HUE)),this.saturation=Object(n["a"])(t.saturation,Object(n["a"])(e.defaultSaturation,W.DEFAULT_SATURATION)),this.gamma=Object(n["a"])(t.gamma,Object(n["a"])(e.defaultGamma,W.DEFAULT_GAMMA)),this.splitDirection=Object(n["a"])(t.splitDirection,Object(n["a"])(e.defaultSplit,W.DEFAULT_SPLIT)),this.minificationFilter=Object(n["a"])(t.minificationFilter,Object(n["a"])(e.defaultMinificationFilter,W.DEFAULT_MINIFICATION_FILTER)),this.magnificationFilter=Object(n["a"])(t.magnificationFilter,Object(n["a"])(e.defaultMagnificationFilter,W.DEFAULT_MAGNIFICATION_FILTER)),this.show=Object(n["a"])(t.show,!0),this._minimumTerrainLevel=t.minimumTerrainLevel,this._maximumTerrainLevel=t.maximumTerrainLevel,this._rectangle=Object(n["a"])(t.rectangle,m["a"].MAX_VALUE),this._maximumAnisotropy=t.maximumAnisotropy,this._imageryCache={},this._skeletonPlaceholder=new Y["a"](B.createPlaceholder(this)),this._show=!0,this._layerIndex=-1,this._isBaseLayer=!1,this._requestImageError=void 0,this._reprojectComputeCommands=[],this.cutoutRectangle=t.cutoutRectangle,this.colorToAlpha=t.colorToAlpha,this.colorToAlphaThreshold=Object(n["a"])(t.colorToAlphaThreshold,W.DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD)}Object(s["a"])(W.prototype,{imageryProvider:{get:function(){return this._imageryProvider}},rectangle:{get:function(){return this._rectangle}}}),W.DEFAULT_BRIGHTNESS=1,W.DEFAULT_CONTRAST=1,W.DEFAULT_HUE=0,W.DEFAULT_SATURATION=1,W.DEFAULT_GAMMA=1,W.DEFAULT_SPLIT=k.NONE,W.DEFAULT_MINIFICATION_FILTER=P["a"].LINEAR,W.DEFAULT_MAGNIFICATION_FILTER=F["a"].LINEAR,W.DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD=.004,W.prototype.isBaseLayer=function(){return this._isBaseLayer},W.prototype.isDestroyed=function(){return!1},W.prototype.destroy=function(){return Object(c["a"])(this)};var q=new m["a"],V=new m["a"],X=new m["a"],z=new m["a"];function J(e,t,a){return e+":"+t+":"+a}function Q(e,t,a){return JSON.stringify([e,t,a])}W.prototype.getViewableRectangle=function(){var e=this._imageryProvider,t=this._rectangle;return e.readyPromise.then((function(){return m["a"].intersection(e.rectangle,t)}))},W.prototype._createTileImagerySkeletons=function(e,t,a){var r=e.data;if(Object(o["a"])(this._minimumTerrainLevel)&&e.level<this._minimumTerrainLevel)return!1;if(Object(o["a"])(this._maximumTerrainLevel)&&e.level>this._maximumTerrainLevel)return!1;var n=this._imageryProvider;if(Object(o["a"])(a)||(a=r.imagery.length),!n.ready)return this._skeletonPlaceholder.loadingImagery.addReference(),r.imagery.splice(a,0,this._skeletonPlaceholder),!0;var s=n.tilingScheme.projection instanceof b["a"]&&e.rectangle.north<b["a"].MaximumLatitude&&e.rectangle.south>-b["a"].MaximumLatitude,c=m["a"].intersection(n.rectangle,this._rectangle,q),h=m["a"].intersection(e.rectangle,c,V);if(!Object(o["a"])(h)){if(!this.isBaseLayer())return!1;var l=c,u=e.rectangle;h=V,u.south>=l.north?h.north=h.south=l.north:u.north<=l.south?h.north=h.south=l.south:(h.south=Math.max(u.south,l.south),h.north=Math.min(u.north,l.north)),u.west>=l.east?h.west=h.east=l.east:u.east<=l.west?h.west=h.east=l.west:(h.west=Math.max(u.west,l.west),h.east=Math.min(u.east,l.east))}var d=0;h.south>0?d=h.south:h.north<0&&(d=h.north);var f=1,p=f*t.getLevelMaximumGeometricError(e.level),_=ee(this,p,d);_=Math.max(0,_);var g=n.maximumLevel;if(_>g&&(_=g),Object(o["a"])(n.minimumLevel)){var v=n.minimumLevel;_<v&&(_=v)}var y=n.tilingScheme,T=y.positionToTileXY(m["a"].northwest(h),_),O=y.positionToTileXY(m["a"].southeast(h),_),E=e.rectangle.width/512,x=e.rectangle.height/512,A=y.tileXYToRectangle(T.x,T.y,_);Math.abs(A.south-e.rectangle.north)<x&&T.y<O.y&&++T.y,Math.abs(A.east-e.rectangle.west)<E&&T.x<O.x&&++T.x;var C=y.tileXYToRectangle(O.x,O.y,_);Math.abs(C.north-e.rectangle.south)<x&&O.y>T.y&&--O.y,Math.abs(C.west-e.rectangle.east)<E&&O.x>T.x&&--O.x;var w,I,L=m["a"].clone(e.rectangle,z),F=y.tileXYToRectangle(T.x,T.y,_),P=m["a"].intersection(F,c,X);s?(y.rectangleToNativeRectangle(L,L),y.rectangleToNativeRectangle(F,F),y.rectangleToNativeRectangle(P,P),y.rectangleToNativeRectangle(c,c),w=y.tileXYToNativeRectangle.bind(y),E=L.width/512,x=L.height/512):w=y.tileXYToRectangle.bind(y);var j,R=0,M=1;!this.isBaseLayer()&&Math.abs(P.west-L.west)>=E&&(R=Math.min(1,(P.west-L.west)/L.width)),!this.isBaseLayer()&&Math.abs(P.north-L.north)>=x&&(M=Math.max(0,(P.north-L.south)/L.height));for(var S=M,D=T.x;D<=O.x;D++)if(I=R,F=w(D,T.y,_),P=m["a"].simpleIntersection(F,c,X),Object(o["a"])(P)){R=Math.min(1,(P.east-L.west)/L.width),D===O.x&&(this.isBaseLayer()||Math.abs(P.east-L.east)<E)&&(R=1),M=S;for(var N=T.y;N<=O.y;N++)if(j=M,F=w(D,N,_),P=m["a"].simpleIntersection(F,c,X),Object(o["a"])(P)){M=Math.max(0,(P.south-L.south)/L.height),N===O.y&&(this.isBaseLayer()||Math.abs(P.south-L.south)<x)&&(M=0);var U=new i["a"](I,M,R,j),B=this.getImageryFromCache(D,N,_);r.imagery.splice(a,0,new Y["a"](B,U,s)),++a}}return!0},W.prototype._calculateTextureTranslationAndScale=function(e,t){var a=t.readyImagery.rectangle,r=e.rectangle;if(t.useWebMercatorT){var n=t.readyImagery.imageryLayer.imageryProvider.tilingScheme;a=n.rectangleToNativeRectangle(a,q),r=n.rectangleToNativeRectangle(r,z)}var o=r.width,s=r.height,c=o/a.width,h=s/a.height;return new i["a"](c*(r.west-a.west)/o,h*(r.south-a.south)/s,c,h)},W.prototype._requestImagery=function(e){var t=this._imageryProvider,a=this;function r(t){if(!Object(o["a"])(t))return i();e.image=t,e.state=N["a"].RECEIVED,e.request=void 0,y["a"].handleSuccess(a._requestImageError)}function i(r){if(e.request.state===_["a"].CANCELLED)return e.state=N["a"].UNLOADED,void(e.request=void 0);e.state=N["a"].FAILED,e.request=void 0;var i="Failed to obtain image tile X: "+e.x+" Y: "+e.y+" Level: "+e.level+".";a._requestImageError=y["a"].handleError(a._requestImageError,t,t.errorEvent,i,e.x,e.y,e.level,n,r)}function n(){var a=new p["a"]({throttle:!1,throttleByServer:!0,type:g["a"].IMAGERY});e.request=a,e.state=N["a"].TRANSITIONING;var n=t.requestImage(e.x,e.y,e.level,a);if(!Object(o["a"])(n))return e.state=N["a"].UNLOADED,void(e.request=void 0);Object(o["a"])(t.getTileCredits)&&(e.credits=t.getTileCredits(e.x,e.y,e.level)),Object(D["a"])(n,r,i)}n()},W.prototype._createTextureWebGL=function(e,t){var a=new C["a"]({minificationFilter:this.minificationFilter,magnificationFilter:this.magnificationFilter}),r=t.image;return Object(o["a"])(r.internalFormat)?new L["a"]({context:e,pixelFormat:r.internalFormat,width:r.width,height:r.height,source:{arrayBufferView:r.bufferView},sampler:a}):new L["a"]({context:e,source:r,pixelFormat:this._imageryProvider.hasAlphaChannel?f["a"].RGBA:f["a"].RGB,sampler:a})},W.prototype._createTexture=function(e,t){var a=this._imageryProvider,r=t.image;if(Object(o["a"])(a.tileDiscardPolicy)){var i=a.tileDiscardPolicy;if(Object(o["a"])(i)){if(!i.isReady())return void(t.state=N["a"].RECEIVED);if(i.shouldDiscardImage(r))return void(t.state=N["a"].INVALID)}}var n=this._createTextureWebGL(e,t);a.tilingScheme.projection instanceof b["a"]?t.textureWebMercator=n:t.texture=n,t.image=void 0,t.state=N["a"].TEXTURE_LOADED},W.prototype._finalizeReprojectTexture=function(e,t){var a=this.minificationFilter,r=this.magnificationFilter,i=a===P["a"].LINEAR&&r===F["a"].LINEAR;if(i&&!f["a"].isCompressedFormat(t.pixelFormat)&&d["a"].isPowerOfTwo(t.width)&&d["a"].isPowerOfTwo(t.height)){a=P["a"].LINEAR_MIPMAP_LINEAR;var s=x["a"].maximumTextureFilterAnisotropy,c=Math.min(s,Object(n["a"])(this._maximumAnisotropy,s)),h=J(a,r,c),l=e.cache.imageryLayerMipmapSamplers;Object(o["a"])(l)||(l={},e.cache.imageryLayerMipmapSamplers=l);var u=l[h];Object(o["a"])(u)||(u=l[h]=new C["a"]({wrapS:j["a"].CLAMP_TO_EDGE,wrapT:j["a"].CLAMP_TO_EDGE,minificationFilter:a,magnificationFilter:r,maximumAnisotropy:c})),t.generateMipmap(A["a"].NICEST),t.sampler=u}else{var m=J(a,r,0),p=e.cache.imageryLayerNonMipmapSamplers;Object(o["a"])(p)||(p={},e.cache.imageryLayerNonMipmapSamplers=p);var _=p[m];Object(o["a"])(_)||(_=p[m]=new C["a"]({wrapS:j["a"].CLAMP_TO_EDGE,wrapT:j["a"].CLAMP_TO_EDGE,minificationFilter:a,magnificationFilter:r})),t.sampler=_}},W.prototype._reprojectTexture=function(e,t,a){var r=t.textureWebMercator||t.texture,i=t.rectangle,o=e.context;if(a=Object(n["a"])(a,!0),a&&!(this._imageryProvider.tilingScheme.projection instanceof l["a"])&&i.width/r.width>1e-5){var s=this;t.addReference();var c=new E["a"]({persists:!0,owner:this,preExecute:function(e){$(e,o,r,t.rectangle)},postExecute:function(e){t.texture=e,s._finalizeReprojectTexture(o,e),t.state=N["a"].READY,t.releaseReference()}});this._reprojectComputeCommands.push(c)}else a&&(t.texture=r),this._finalizeReprojectTexture(o,r),t.state=N["a"].READY},W.prototype.queueReprojectionCommands=function(e){for(var t=this._reprojectComputeCommands,a=t.length,r=0;r<a;++r)e.commandList.push(t[r]);t.length=0},W.prototype.cancelReprojections=function(){this._reprojectComputeCommands.length=0},W.prototype.getImageryFromCache=function(e,t,a,r){var i=Q(e,t,a),n=this._imageryCache[i];return Object(o["a"])(n)||(n=new B(this,e,t,a,r),this._imageryCache[i]=n),n.addReference(),n},W.prototype.removeImageryFromCache=function(e){var t=Q(e.x,e.y,e.level);delete this._imageryCache[t]};var Z={u_textureDimensions:function(){return this.textureDimensions},u_texture:function(){return this.texture},textureDimensions:new r["a"],texture:void 0},K=h["a"].supportsTypedArrays()?new Float32Array(128):void 0;function $(e,t,a,r){var i=t.cache.imageryLayer_reproject;if(!Object(o["a"])(i)){i=t.cache.imageryLayer_reproject={vertexArray:void 0,shaderProgram:void 0,sampler:void 0,destroy:function(){Object(o["a"])(this.framebuffer)&&this.framebuffer.destroy(),Object(o["a"])(this.vertexArray)&&this.vertexArray.destroy(),Object(o["a"])(this.shaderProgram)&&this.shaderProgram.destroy()}};for(var n=new Float32Array(256),s=0,c=0;c<64;++c){var h=c/63;n[s++]=0,n[s++]=h,n[s++]=1,n[s++]=h}var l={position:0,webMercatorT:1},f=v["a"].getRegularGridIndices(2,64),m=T["a"].createIndexBuffer({context:t,typedArray:f,usage:O["a"].STATIC_DRAW,indexDatatype:u["a"].UNSIGNED_SHORT});i.vertexArray=new R["a"]({context:t,attributes:[{index:l.position,vertexBuffer:T["a"].createVertexBuffer({context:t,typedArray:n,usage:O["a"].STATIC_DRAW}),componentsPerAttribute:2},{index:l.webMercatorT,vertexBuffer:T["a"].createVertexBuffer({context:t,sizeInBytes:512,usage:O["a"].STREAM_DRAW}),componentsPerAttribute:1}],indexBuffer:m});var p=new I["a"]({sources:[S["a"]]});i.shaderProgram=w["a"].fromCache({context:t,vertexShaderSource:p,fragmentShaderSource:M["a"],attributeLocations:l}),i.sampler=new C["a"]({wrapS:j["a"].CLAMP_TO_EDGE,wrapT:j["a"].CLAMP_TO_EDGE,minificationFilter:P["a"].LINEAR,magnificationFilter:F["a"].LINEAR})}a.sampler=i.sampler;var _=a.width,g=a.height;Z.textureDimensions.x=_,Z.textureDimensions.y=g,Z.texture=a;var y=Math.sin(r.south),b=.5*Math.log((1+y)/(1-y));y=Math.sin(r.north);var E=.5*Math.log((1+y)/(1-y)),x=1/(E-b),D=new L["a"]({context:t,width:_,height:g,pixelFormat:a.pixelFormat,pixelDatatype:a.pixelDatatype,preMultiplyAlpha:a.preMultiplyAlpha});d["a"].isPowerOfTwo(_)&&d["a"].isPowerOfTwo(g)&&D.generateMipmap(A["a"].NICEST);for(var N=r.south,U=r.north,B=K,G=0,H=0;H<64;++H){var k=H/63,Y=d["a"].lerp(N,U,k);y=Math.sin(Y);var W=.5*Math.log((1+y)/(1-y)),q=(W-b)*x;B[G++]=q,B[G++]=q}i.vertexArray.getAttribute(1).vertexBuffer.copyFromArrayView(B),e.shaderProgram=i.shaderProgram,e.outputTexture=D,e.uniformMap=Z,e.vertexArray=i.vertexArray}function ee(e,t,a){var r=e._imageryProvider,i=r.tilingScheme,n=i.ellipsoid,o=e._imageryProvider.tilingScheme.projection instanceof l["a"]?1:Math.cos(a),s=i.rectangle,c=n.maximumRadius*s.width*o/(r.tileWidth*i.getNumberOfXTilesAtLevel(0)),h=c/t,u=Math.log(h)/Math.log(2),d=Math.round(u);return 0|d}t["a"]=W},af1e:function(e,t,a){"use strict";var r=a("0e25"),i={AERIAL:2,AERIAL_WITH_LABELS:3,ROAD:4};t["a"]=Object(r["a"])(i)},d57b:function(e,t,a){"use strict";var r=a("bd8d"),i=a("2f63"),n=a("9f1d"),o=a("7d62"),s=a("e42d"),c=a("f845"),h=a("ac3b"),l=a("6ef5"),u=a("6dc0"),d=a("6c84"),f=a("5770"),m=a("a913"),p=a("3022"),_=a("03f1"),g=a("23b6"),v=a("3720"),y=a("b7c8"),b=a("3626"),T=a("6102"),O=a("25ef");function E(){this.previousFramebuffer=void 0,this._previousFramebuffer=void 0,this._texture=void 0,this._classifiedTexture=void 0,this._depthStencilTexture=void 0,this._fbo=void 0,this._fboClassified=void 0,this._rsUnclassified=void 0,this._rsClassified=void 0,this._unclassifiedCommand=void 0,this._classifiedCommand=void 0,this._translucentCommand=void 0,this._clearColorCommand=new c["a"]({color:new r["a"](0,0,0,0),owner:this}),this._clearCommand=new c["a"]({color:new r["a"](0,0,0,0),depth:1,stencil:0});var e=this;this._uniformMap={colorTexture:function(){return e._texture},depthTexture:function(){return e._depthStencilTexture},classifiedTexture:function(){return e._classifiedTexture}}}Object(n["a"])(E.prototype,{unclassifiedCommand:{get:function(){return this._unclassifiedCommand}}}),E.isTranslucencySupported=function(e){return e.depthTexture&&e.fragmentDepth};var x={depthMask:!1,stencilTest:{enabled:!0,frontFunction:T["a"].EQUAL,frontOperation:{fail:O["a"].KEEP,zFail:O["a"].KEEP,zPass:O["a"].KEEP},backFunction:T["a"].NEVER,reference:0,mask:b["a"].CLASSIFICATION_MASK},blending:y["a"].ALPHA_BLEND},A={depthMask:!1,stencilTest:{enabled:!0,frontFunction:T["a"].NOT_EQUAL,frontOperation:{fail:O["a"].KEEP,zFail:O["a"].KEEP,zPass:O["a"].KEEP},backFunction:T["a"].NEVER,reference:0,mask:b["a"].CLASSIFICATION_MASK},blending:y["a"].ALPHA_BLEND},C={depthMask:!0,depthTest:{enabled:!0},stencilTest:b["a"].setCesium3DTileBit(),stencilMask:b["a"].CESIUM_3D_TILE_MASK,blending:y["a"].ALPHA_BLEND},w="#extension GL_EXT_frag_depth : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform sampler2D classifiedTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n    bool isClassified = all(equal(texture2D(classifiedTexture, v_textureCoordinates), vec4(0.0)));\n#ifdef UNCLASSIFIED\n    vec4 highlightColor = czm_invertClassificationColor;\n    if (isClassified)\n    {\n        discard;\n    }\n#else\n    vec4 highlightColor = vec4(1.0);\n    if (!isClassified)\n    {\n        discard;\n    }\n#endif\n    gl_FragColor = color * highlightColor;\n    gl_FragDepthEXT = texture2D(depthTexture, v_textureCoordinates).r;\n}\n",I="uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n#ifdef UNCLASSIFIED\n    gl_FragColor = color * czm_invertClassificationColor;\n#else\n    gl_FragColor = color;\n#endif\n}\n";E.prototype.update=function(e){var t=this._texture,a=!Object(i["a"])(t)||this.previousFramebuffer!==this._previousFramebuffer;this._previousFramebuffer=this.previousFramebuffer;var r,n,o=e.drawingBufferWidth,c=e.drawingBufferHeight,y=!Object(i["a"])(t)||t.width!==o||t.height!==c;((y||a)&&(this._texture=this._texture&&this._texture.destroy(),this._classifiedTexture=this._classifiedTexture&&this._classifiedTexture.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._texture=new m["a"]({context:e,width:o,height:c,pixelFormat:s["a"].RGBA,pixelDatatype:l["a"].UNSIGNED_BYTE,sampler:new d["a"]({wrapS:g["a"].CLAMP_TO_EDGE,wrapT:g["a"].CLAMP_TO_EDGE,minificationFilter:_["a"].LINEAR,magnificationFilter:p["a"].LINEAR})}),Object(i["a"])(this._previousFramebuffer)||(this._classifiedTexture=new m["a"]({context:e,width:o,height:c,pixelFormat:s["a"].RGBA,pixelDatatype:l["a"].UNSIGNED_BYTE,sampler:new d["a"]({wrapS:g["a"].CLAMP_TO_EDGE,wrapT:g["a"].CLAMP_TO_EDGE,minificationFilter:_["a"].LINEAR,magnificationFilter:p["a"].LINEAR})}),this._depthStencilTexture=new m["a"]({context:e,width:o,height:c,pixelFormat:s["a"].DEPTH_STENCIL,pixelDatatype:l["a"].UNSIGNED_INT_24_8}))),!Object(i["a"])(this._fbo)||y||a)&&(this._fbo=this._fbo&&this._fbo.destroy(),this._fboClassified=this._fboClassified&&this._fboClassified.destroy(),Object(i["a"])(this._previousFramebuffer)?(r=this._previousFramebuffer.depthStencilTexture,n=this._previousFramebuffer.depthStencilRenderbuffer):r=this._depthStencilTexture,this._fbo=new h["a"]({context:e,colorTextures:[this._texture],depthStencilTexture:r,depthStencilRenderbuffer:n,destroyAttachments:!1}),Object(i["a"])(this._previousFramebuffer)||(this._fboClassified=new h["a"]({context:e,colorTextures:[this._classifiedTexture],depthStencilTexture:r,destroyAttachments:!1})));if(Object(i["a"])(this._rsUnclassified)||(this._rsUnclassified=u["a"].fromCache(x),this._rsClassified=u["a"].fromCache(A),this._rsDefault=u["a"].fromCache(C)),!Object(i["a"])(this._unclassifiedCommand)||a){Object(i["a"])(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy());var b=Object(i["a"])(this._previousFramebuffer)?I:w,T=new f["a"]({defines:["UNCLASSIFIED"],sources:[b]}),O=new f["a"]({sources:[b]});this._unclassifiedCommand=e.createViewportQuadCommand(T,{renderState:Object(i["a"])(this._previousFramebuffer)?this._rsUnclassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),this._classifiedCommand=e.createViewportQuadCommand(O,{renderState:Object(i["a"])(this._previousFramebuffer)?this._rsClassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),Object(i["a"])(this._translucentCommand)&&(this._translucentCommand.shaderProgram=this._translucentCommand.shaderProgram&&this._translucentCommand.shaderProgram.destroy()),Object(i["a"])(this._previousFramebuffer)||(this._translucentCommand=e.createViewportQuadCommand(v["a"],{renderState:this._rsUnclassified,uniformMap:this._uniformMap,owner:this}))}},E.prototype.clear=function(e,t){var a=t.framebuffer;Object(i["a"])(this._previousFramebuffer)?(t.framebuffer=this._fbo,this._clearColorCommand.execute(e,t)):(t.framebuffer=this._fbo,this._clearCommand.execute(e,t),t.framebuffer=this._fboClassified,this._clearCommand.execute(e,t)),t.framebuffer=a},E.prototype.executeClassified=function(e,t){if(!Object(i["a"])(this._previousFramebuffer)){var a=t.framebuffer;t.framebuffer=this._fboClassified,this._translucentCommand.execute(e,t),t.framebuffer=a}this._classifiedCommand.execute(e,t)},E.prototype.executeUnclassified=function(e,t){this._unclassifiedCommand.execute(e,t)},E.prototype.isDestroyed=function(){return!1},E.prototype.destroy=function(){return this._fbo=this._fbo&&this._fbo.destroy(),this._texture=this._texture&&this._texture.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),Object(i["a"])(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy()),Object(o["a"])(this)},t["a"]=E},dddf:function(e,t,a){"use strict";var r=a("0e25"),i={UNLOADED:0,TRANSITIONING:1,RECEIVED:2,TEXTURE_LOADED:3,READY:4,FAILED:5,INVALID:6,PLACEHOLDER:7};t["a"]=Object(r["a"])(i)}}]);